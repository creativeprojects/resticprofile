<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Using resticprofile :: resticprofile</title><link>https://creativeprojects.github.io/resticprofile/usage/index.html</link><description>Here are a few examples how to run resticprofile (using the main example configuration file)
See all snapshots of your default profile:
resticprofile See all available profiles in your configuration file (and the restic commands where some flags are defined):
resticprofile profiles Profiles available (name, sections, description): root: (backup, copy, forget, retention) self: (backup, check, copy, forget, retention) src: (backup, copy, retention, snapshots) Groups available (name, profiles, description): full-backup: [root, src] Backup root &amp; src profiles (using full-backup group shown earlier)</description><generator>Hugo</generator><language>en-gb</language><lastBuildDate>Mon, 16 May 2022 20:26:09 +0100</lastBuildDate><atom:link href="https://creativeprojects.github.io/resticprofile/usage/index.xml" rel="self" type="application/rss+xml"/><item><title>Version</title><link>https://creativeprojects.github.io/resticprofile/usage/version/index.html</link><pubDate>Mon, 16 May 2022 20:21:01 +0100</pubDate><guid>https://creativeprojects.github.io/resticprofile/usage/version/index.html</guid><description>The version command displays resticprofile version. If run in verbose mode (using --verbose flag) additional information such as OS version, golang version and modules are displayed as well.
resticprofile --verbose version</description></item><item><title>Generate a Keyfile</title><link>https://creativeprojects.github.io/resticprofile/usage/keyfile/index.html</link><pubDate>Mon, 16 May 2022 20:21:16 +0100</pubDate><guid>https://creativeprojects.github.io/resticprofile/usage/keyfile/index.html</guid><description>Generating random keys resticprofile has a handy tool to generate cryptographically secure random keys encoded in base64. You can simply put this key into a file and use it as a strong key for restic.
On Linux and FreeBSD, the generator uses getrandom(2) if available, /dev/urandom otherwise. On OpenBSD and macOS, the generator uses getentropy(2). On other Unix-like systems, the generator reads from /dev/urandom. On Windows systems, the generator uses the uses the RtlGenRandom API. On JS/Wasm, the generator uses the Web Crypto API. On WASIP1/Wasm, the generator uses random_get from wasi_snapshot_preview1. Reference from the Go documentation</description></item><item><title>Memory</title><link>https://creativeprojects.github.io/resticprofile/usage/memory/index.html</link><pubDate>Mon, 16 May 2022 20:20:55 +0100</pubDate><guid>https://creativeprojects.github.io/resticprofile/usage/memory/index.html</guid><description>Minimum memory required restic can be memory hungry. I’m running a few servers with no swap and I managed to kill some of them during a backup.
For that matter I’ve introduced a parameter in the global section called min-memory. The default value is 100MB. You can disable it by using a value of 0.
It compares against (total - used) which is probably the best way to know how much memory is available (that is including the memory used for disk buffers/cache).</description></item><item><title>Locks</title><link>https://creativeprojects.github.io/resticprofile/usage/locks/index.html</link><pubDate>Mon, 16 May 2022 20:26:09 +0100</pubDate><guid>https://creativeprojects.github.io/resticprofile/usage/locks/index.html</guid><description>restic is already using a lock to avoid running some operations at the same time.
Since resticprofile can run several commands in a profile, it could be better to run the whole batch in a lock so nobody can interfere in the meantime.
For this to happen you can specify a lock file in each profile:
​ toml yaml hcl json version = "1" [src] lock = "/tmp/resticprofile-profile-src.lock" [src.backup] check-before = true exclude = [ "/**/.git" ] source = [ "~/go" ] [src.retention] after-backup = true before-backup = false compact = false keep-within = "30d" prune = true version: "1" src: lock: "/tmp/resticprofile-profile-src.lock" backup: check-before: true exclude: - /**/.git source: - ~/go retention: after-backup: true before-backup: false compact: false keep-within: 30d prune: true "src" = { "lock" = "/tmp/resticprofile-profile-src.lock" "backup" = { "check-before" = true "exclude" = ["/**/.git"] "source" = ["~/go"] } "retention" = { "after-backup" = true "before-backup" = false "compact" = false "keep-within" = "30d" "prune" = true } } { "version": "1", "src": { "lock": "/tmp/resticprofile-profile-src.lock", "backup": { "check-before": true, "exclude": [ "/**/.git" ], "source": [ "~/go" ] }, "retention": { "after-backup": true, "before-backup": false, "compact": false, "keep-within": "30d", "prune": true } } } For this profile, a lock will be set using the file /tmp/resticprofile-profile-src.lock for the duration of the profile: check, backup and retention (via the forget command)</description></item><item><title>No root backup on Linux</title><link>https://creativeprojects.github.io/resticprofile/usage/noroot/index.html</link><pubDate>Mon, 16 May 2022 20:26:09 +0100</pubDate><guid>https://creativeprojects.github.io/resticprofile/usage/noroot/index.html</guid><description>Info This section is mostly copied from the restic documentation:
Backing up your system without running restic as root
Backing up your system without running resticprofile as root Creating a complete backup of a machine requires a privileged process that is able to read all files. On UNIX-like systems this is traditionally the root user. Processes running as root have superpower. They cannot only read all files but do also have the power to modify the system in any possible way.</description></item></channel></rss>