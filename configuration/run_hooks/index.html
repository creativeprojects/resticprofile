<!doctype html><html lang=en-gb dir=ltr itemscope itemtype=http://schema.org/Article data-r-output-format=html><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.145.0"><meta name=generator content="Relearn 7.6.1"><meta name=description content="Run commands before, after success or after failure resticprofile has 2 places where you can run commands around restic:
commands that will run before and after every restic command (snapshots, backup, check, forget, prune, mount, etc.). These are placed at the root of each profile and are always considered. commands that will only run before and after specific restic commands. These are placed in supported sections of your profiles (currently supported are backup, copy, dump, find, ls, mount, restore, snapshots, stats and tag). Here’s an example of all the external commands that you can run during the execution of a profile:"><meta name=author content><meta name=twitter:card content="summary"><meta name=twitter:title content="Command Hooks :: resticprofile"><meta name=twitter:description content="Run commands before, after success or after failure resticprofile has 2 places where you can run commands around restic:
commands that will run before and after every restic command (snapshots, backup, check, forget, prune, mount, etc.). These are placed at the root of each profile and are always considered. commands that will only run before and after specific restic commands. These are placed in supported sections of your profiles (currently supported are backup, copy, dump, find, ls, mount, restore, snapshots, stats and tag). Here’s an example of all the external commands that you can run during the execution of a profile:"><meta property="og:url" content="https://creativeprojects.github.io/resticprofile/configuration/run_hooks/index.html"><meta property="og:site_name" content="resticprofile"><meta property="og:title" content="Command Hooks :: resticprofile"><meta property="og:description" content="Run commands before, after success or after failure resticprofile has 2 places where you can run commands around restic:
commands that will run before and after every restic command (snapshots, backup, check, forget, prune, mount, etc.). These are placed at the root of each profile and are always considered. commands that will only run before and after specific restic commands. These are placed in supported sections of your profiles (currently supported are backup, copy, dump, find, ls, mount, restore, snapshots, stats and tag). Here’s an example of all the external commands that you can run during the execution of a profile:"><meta property="og:locale" content="en_gb"><meta property="og:type" content="article"><meta property="article:section" content="Configuration file"><meta property="article:tag" content="Monitoring"><meta itemprop=name content="Command Hooks :: resticprofile"><meta itemprop=description content="Run commands before, after success or after failure resticprofile has 2 places where you can run commands around restic:
commands that will run before and after every restic command (snapshots, backup, check, forget, prune, mount, etc.). These are placed at the root of each profile and are always considered. commands that will only run before and after specific restic commands. These are placed in supported sections of your profiles (currently supported are backup, copy, dump, find, ls, mount, restore, snapshots, stats and tag). Here’s an example of all the external commands that you can run during the execution of a profile:"><meta itemprop=wordCount content="1552"><meta itemprop=keywords content="Monitoring"><title>Command Hooks :: resticprofile</title>
<link href=https://creativeprojects.github.io/resticprofile/images/logo.png?1758895522 rel=icon type=image/png><link href=https://creativeprojects.github.io/resticprofile/fonts/fontawesome/css/fontawesome-all.min.css?1758895522 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=https://creativeprojects.github.io/resticprofile/fonts/fontawesome/css/fontawesome-all.min.css?1758895522 rel=stylesheet></noscript><link href=https://creativeprojects.github.io/resticprofile/css/perfect-scrollbar/perfect-scrollbar.min.css?1758895522 rel=stylesheet><link href=https://creativeprojects.github.io/resticprofile/css/theme.min.css?1758895522 rel=stylesheet><link href=https://creativeprojects.github.io/resticprofile/css/format-html.min.css?1758895522 rel=stylesheet id=R-format-style><link href=https://creativeprojects.github.io/resticprofile/css/auto-complete/auto-complete.min.css?1758895522 rel=stylesheet><script src=https://creativeprojects.github.io/resticprofile/js/auto-complete/auto-complete.min.js?1758895522 defer></script><script src=https://creativeprojects.github.io/resticprofile/js/lunr/lunr.min.js?1758895522 defer></script><script src=https://creativeprojects.github.io/resticprofile/js/lunr/lunr.stemmer.support.min.js?1758895522 defer></script><script src=https://creativeprojects.github.io/resticprofile/js/lunr/lunr.multi.min.js?1758895522 defer></script><script src=https://creativeprojects.github.io/resticprofile/js/lunr/lunr.en.min.js?1758895522 defer></script><script src=https://creativeprojects.github.io/resticprofile/js/search.min.js?1758895522 defer></script><script>window.relearn=window.relearn||{},window.relearn.min=`.min`,window.relearn.path="/configuration/run_hooks/index.html",window.relearn.relBasePath="../..",window.relearn.relBaseUri="../..",window.relearn.absBaseUri="https://creativeprojects.github.io/resticprofile",window.relearn.contentLangs=["en"],window.relearn.index_js_url="https://creativeprojects.github.io/resticprofile/searchindex.en.js?1758895522",window.relearn.disableAnchorCopy=!1,window.relearn.disableAnchorScrolling=!1,window.relearn.disableInlineCopyToClipboard=!1,window.relearn.enableBlockCodeWrap=!0,window.relearn.getItem=(e,t)=>e.getItem(t),window.relearn.setItem=(e,t,n)=>e.setItem(t,n),window.relearn.removeItem=(e,t)=>e.removeItem(t),window.relearn.themevariants=["relearn-auto","relearn-light","relearn-dark"],window.relearn.customvariantname="my-custom-variant",window.relearn.changeVariant=function(e){var t=document.documentElement.dataset.rThemeVariant;window.relearn.setItem(window.localStorage,window.relearn.absBaseUri+"/variant",e),document.documentElement.dataset.rThemeVariant=e,t!=e&&(document.dispatchEvent(new CustomEvent("themeVariantLoaded",{detail:{variant:e,oldVariant:t}})),window.relearn.markVariant())},window.relearn.markVariant=function(){var e=window.relearn.getItem(window.localStorage,window.relearn.absBaseUri+"/variant");document.querySelectorAll(".R-variantswitcher select").forEach(t=>{t.value=e})},window.relearn.initVariant=function(){var e=window.relearn.getItem(window.localStorage,window.relearn.absBaseUri+"/variant")??"";e==window.relearn.customvariantname||(!e||!window.relearn.themevariants.includes(e))&&(e=window.relearn.themevariants[0],window.relearn.setItem(window.localStorage,window.relearn.absBaseUri+"/variant",e)),document.documentElement.dataset.rThemeVariant=e},window.relearn.initVariant(),window.relearn.markVariant(),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`</script></head><body class="mobile-support html" data-url=https://creativeprojects.github.io/resticprofile/configuration/run_hooks/index.html><div id=R-body class=default-animation><div id=R-body-overlay></div><nav id=R-topbar><div class=topbar-wrapper><div class=topbar-sidebar-divider></div><div class="topbar-area topbar-area-start" data-area=start><div class="topbar-button topbar-button-sidebar" data-content-empty=disable data-width-s=show data-width-m=hide data-width-l=hide><button class=topbar-control onclick=toggleNav() type=button title="Menu (CTRL+ALT+n)"><i class="fa-fw fas fa-bars"></i></button></div><div class="topbar-button topbar-button-toc" data-content-empty=hide data-width-s=show data-width-m=show data-width-l=show><button class=topbar-control onclick=toggleTopbarFlyout(this) type=button title="Table of Contents (CTRL+ALT+t)"><i class="fa-fw fas fa-list-alt"></i></button><div class=topbar-content><div class=topbar-content-wrapper><nav class=TableOfContents><ul><li><a href=#run-commands-before-after-success-or-after-failure>Run commands before, after success or after failure</a><ul><li><a href=#output-when-running-the-example-from-above>Output when running the example from above</a></li><li><a href=#order-of-run--during-a-backup>Order of <code>run-*</code> during a backup</a></li><li><a href=#passing-environment-variables>Passing environment variables</a></li></ul></li><li><a href=#run-commands-on-stream-errors>Run commands on stream errors</a></li></ul></nav></div></div></div></div><ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype=http://schema.org/BreadcrumbList><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=https://creativeprojects.github.io/resticprofile/index.html><span itemprop=name>resticprofile</span></a><meta itemprop=position content="1">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=https://creativeprojects.github.io/resticprofile/configuration/index.html><span itemprop=name>Configuration file</span></a><meta itemprop=position content="2">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><span itemprop=name>Command Hooks</span><meta itemprop=position content="3"></li></ol><div class="topbar-area topbar-area-end" data-area=end><div class="topbar-button topbar-button-prev" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><a class=topbar-control href=https://creativeprojects.github.io/resticprofile/configuration/copy/index.html title="Copy command (🡐)"><i class="fa-fw fas fa-chevron-left"></i></a></div><div class="topbar-button topbar-button-next" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><a class=topbar-control href=https://creativeprojects.github.io/resticprofile/configuration/http_hooks/index.html title="HTTP Hooks (🡒)"><i class="fa-fw fas fa-chevron-right"></i></a></div><div class="topbar-button topbar-button-more" data-content-empty=hide data-width-s=show data-width-m=show data-width-l=show><button class=topbar-control onclick=toggleTopbarFlyout(this) type=button title=More><i class="fa-fw fas fa-ellipsis-v"></i></button><div class=topbar-content><div class=topbar-content-wrapper><div class="topbar-area topbar-area-more" data-area=more></div></div></div></div></div></div></nav><div id=R-main-overlay></div><main id=R-body-inner class="highlightable configuration" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline><div class="R-taxonomy taxonomy-tags cstyle tags" title=Tags style=--VARIABLE-TAGS-BG-color:var(--INTERNAL-TAG-BG-color)><ul><li><a class=term-link href=https://creativeprojects.github.io/resticprofile/tags/monitoring/index.html>Monitoring</a></li></ul></div></header><h1 id=command-hooks>Command Hooks</h1><h2 id=run-commands-before-after-success-or-after-failure>Run commands before, after success or after failure</h2><p>resticprofile has 2 places where you can run commands around restic:</p><ul><li>commands that will run before and after every restic command (snapshots, backup, check, forget, prune, mount, etc.). These are placed at the root of each profile and are always considered.</li><li>commands that will only run before and after specific restic commands. These are placed in supported sections of your profiles (currently supported are <code>backup</code>, <code>copy</code>, <code>dump</code>, <code>find</code>, <code>ls</code>, <code>mount</code>, <code>restore</code>, <code>snapshots</code>, <code>stats</code> and <code>tag</code>).</li></ul><p>Here&rsquo;s an example of all the external commands that you can run during the execution of a profile:</p><div class=tab-panel data-tab-group=config-with-json><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=toml class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("config-with-json","toml")'>
<span class=tab-nav-text>toml</span>
</button>
<button data-tab-item=yaml class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("config-with-json","yaml")'>
<span class=tab-nav-text>yaml</span>
</button>
<button data-tab-item=hcl class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("config-with-json","hcl")'>
<span class=tab-nav-text>hcl</span>
</button>
<button data-tab-item=json class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("config-with-json","json")'>
<span class=tab-nav-text>json</span></button></div><div class=tab-content-container><div data-tab-item=toml class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-toml data-lang=toml><span class=line><span class=cl><span class=nx>version</span> <span class=p>=</span> <span class=s2>&#34;1&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nx>documents</span><span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=nx>run-before</span> <span class=p>=</span> <span class=s1>&#39;echo &#34;== run-before profile $PROFILE_NAME and command $PROFILE_COMMAND&#34;&#39;</span>
</span></span><span class=line><span class=cl>  <span class=nx>run-after</span> <span class=p>=</span> <span class=s1>&#39;echo &#34;== run-after profile $PROFILE_NAME and command $PROFILE_COMMAND&#34;&#39;</span>
</span></span><span class=line><span class=cl>  <span class=nx>run-after-fail</span> <span class=p>=</span> <span class=s1>&#39;echo &#34;== ERROR in profile $PROFILE_NAME command ${PROFILE_COMMAND}: $ERROR_MESSAGE&#34;&#39;</span>
</span></span><span class=line><span class=cl>  <span class=nx>run-finally</span> <span class=p>=</span> <span class=s1>&#39;echo &#34;== run-finally from profile $PROFILE_NAME after command $PROFILE_COMMAND&#34;&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>[</span><span class=nx>documents</span><span class=p>.</span><span class=nx>backup</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=nx>run-before</span> <span class=p>=</span> <span class=s1>&#39;echo &#34;=== run-before backup in profile $PROFILE_NAME&#34;&#39;</span>
</span></span><span class=line><span class=cl>    <span class=nx>run-after</span> <span class=p>=</span> <span class=s1>&#39;echo &#34;=== run-after backup in profile $PROFILE_NAME&#34;&#39;</span>
</span></span><span class=line><span class=cl>    <span class=nx>run-after-fail</span> <span class=p>=</span> <span class=s1>&#39;echo &#34;=== ERROR in backup for profile ${PROFILE_NAME}: $ERROR_MESSAGE&#34;&#39;</span>
</span></span><span class=line><span class=cl>    <span class=nx>run-finally</span> <span class=p>=</span> <span class=s1>&#39;echo &#34;=== run-finally after backup in profile $PROFILE_NAME&#34;&#39;</span>
</span></span><span class=line><span class=cl>    <span class=nx>source</span> <span class=p>=</span> <span class=s2>&#34;~/Documents&#34;</span></span></span></code></pre></div></div></div><div data-tab-item=yaml class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;1&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>documents</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>run-before</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;echo &#34;== run-before profile $PROFILE_NAME and command $PROFILE_COMMAND&#34;&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>run-after</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;echo &#34;== run-after profile $PROFILE_NAME and command $PROFILE_COMMAND&#34;&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>run-after-fail</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;echo &#34;== ERROR in profile $PROFILE_NAME command ${PROFILE_COMMAND}: $ERROR_MESSAGE&#34;&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>run-finally</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;echo &#34;== run-finally from profile $PROFILE_NAME after command $PROFILE_COMMAND&#34;&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>backup</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>run-before</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;echo &#34;=== run-before backup in profile $PROFILE_NAME&#34;&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>run-after</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;echo &#34;=== run-after backup in profile $PROFILE_NAME&#34;&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>run-after-fail</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;echo &#34;=== ERROR in backup for profile ${PROFILE_NAME}: $ERROR_MESSAGE&#34;&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>run-finally</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;echo &#34;=== run-finally after backup in profile $PROFILE_NAME&#34;&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>source</span><span class=p>:</span><span class=w> </span><span class=l>~/Documents</span></span></span></code></pre></div></div></div><div data-tab-item=hcl class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-hcl data-lang=hcl><span class=line><span class=cl><span class=k>documents</span> {
</span></span><span class=line><span class=cl><span class=n>    run-before</span> <span class=o>=</span><span class=n> &#34;echo \&#34;</span><span class=o>==</span> <span class=k>run</span><span class=err>-</span><span class=k>before</span> <span class=k>profile</span> <span class=err>$</span><span class=k>PROFILE_NAME</span> <span class=k>and</span> <span class=k>command</span> <span class=err>$</span><span class=k>PROFILE_COMMAND</span><span class=err>\</span><span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl><span class=n>    run-after</span> <span class=o>=</span><span class=n> &#34;echo \&#34;</span><span class=o>==</span> <span class=k>run</span><span class=err>-</span><span class=k>after</span> <span class=k>profile</span> <span class=err>$</span><span class=k>PROFILE_NAME</span> <span class=k>and</span> <span class=k>command</span> <span class=err>$</span><span class=k>PROFILE_COMMAND</span><span class=err>\</span><span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl><span class=n>    run-after-fail</span> <span class=o>=</span><span class=n> &#34;echo \&#34;</span><span class=o>==</span> <span class=k>ERROR</span> <span class=k>in</span> <span class=k>profile</span> <span class=err>$</span><span class=k>PROFILE_NAME</span> <span class=k>command</span> <span class=si>${</span><span class=err>PROFILE_COMMAND</span><span class=si>}</span><span class=err>:</span> <span class=err>$</span><span class=k>ERROR_MESSAGE</span><span class=err>\</span><span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl><span class=n>    run-finally</span> <span class=o>=</span><span class=n> &#34;echo \&#34;</span><span class=o>==</span> <span class=k>run</span><span class=err>-</span><span class=k>finally</span> <span class=k>from</span> <span class=k>profile</span> <span class=err>$</span><span class=k>PROFILE_NAME</span> <span class=k>after</span> <span class=k>command</span> <span class=err>$</span><span class=k>PROFILE_COMMAND</span><span class=err>\</span><span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>    backup</span> <span class=o>=</span> {
</span></span><span class=line><span class=cl><span class=n>        run-before</span> <span class=o>=</span><span class=n> &#34;echo \&#34;</span><span class=o>===</span> <span class=k>run</span><span class=err>-</span><span class=k>before</span> <span class=k>backup</span> <span class=k>in</span> <span class=k>profile</span> <span class=err>$</span><span class=k>PROFILE_NAME</span><span class=err>\</span><span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl><span class=n>        run-after</span> <span class=o>=</span><span class=n> &#34;echo \&#34;</span><span class=o>===</span> <span class=k>run</span><span class=err>-</span><span class=k>after</span> <span class=k>backup</span> <span class=k>in</span> <span class=k>profile</span> <span class=err>$</span><span class=k>PROFILE_NAME</span><span class=err>\</span><span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl><span class=n>        run-after-fail</span> <span class=o>=</span><span class=n> &#34;echo \&#34;</span><span class=o>===</span> <span class=k>ERROR</span> <span class=k>in</span> <span class=k>backup</span> <span class=k>for</span> <span class=k>profile</span> <span class=si>${</span><span class=err>PROFILE_NAME</span><span class=si>}</span><span class=err>:</span> <span class=err>$</span><span class=k>ERROR_MESSAGE</span><span class=err>\</span><span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl><span class=n>        run-finally</span> <span class=o>=</span><span class=n> &#34;echo \&#34;</span><span class=o>===</span> <span class=k>run</span><span class=err>-</span><span class=k>finally</span> <span class=k>after</span> <span class=k>backup</span> <span class=k>in</span> <span class=k>profile</span> <span class=err>$</span><span class=k>PROFILE_NAME</span><span class=err>\</span><span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl><span class=n>        source</span> <span class=o>=</span> <span class=s2>&#34;~/Documents&#34;</span>
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}</span></span></code></pre></div></div></div><div data-tab-item=json class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;version&#34;</span><span class=p>:</span> <span class=s2>&#34;1&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;documents&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;run-before&#34;</span><span class=p>:</span> <span class=s2>&#34;echo \&#34;== run-before profile $PROFILE_NAME and command $PROFILE_COMMAND\&#34;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;run-after&#34;</span><span class=p>:</span> <span class=s2>&#34;echo \&#34;== run-after profile $PROFILE_NAME and command $PROFILE_COMMAND\&#34;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;run-after-fail&#34;</span><span class=p>:</span> <span class=s2>&#34;echo \&#34;== ERROR in profile $PROFILE_NAME command ${PROFILE_COMMAND}: $ERROR_MESSAGE\&#34;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;run-finally&#34;</span><span class=p>:</span> <span class=s2>&#34;echo \&#34;== run-finally from profile $PROFILE_NAME after command $PROFILE_COMMAND\&#34;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;backup&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;run-before&#34;</span><span class=p>:</span> <span class=s2>&#34;echo \&#34;=== run-before backup in profile $PROFILE_NAME\&#34;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;run-after&#34;</span><span class=p>:</span> <span class=s2>&#34;echo \&#34;=== run-after backup in profile $PROFILE_NAME\&#34;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;run-after-fail&#34;</span><span class=p>:</span> <span class=s2>&#34;echo \&#34;=== ERROR in backup for profile ${PROFILE_NAME}: $ERROR_MESSAGE\&#34;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;run-finally&#34;</span><span class=p>:</span> <span class=s2>&#34;echo \&#34;=== run-finally after backup in profile $PROFILE_NAME\&#34;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;source&#34;</span><span class=p>:</span> <span class=s2>&#34;~/Documents&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div></div></div></div></div><p><code>run-before</code>, <code>run-after</code>, <code>run-after-fail</code> and <code>run-finally</code> can be a string, or an array of strings if you need to run more than one command</p><p>A few environment variables will be set before running these commands:</p><ul><li><code>PROFILE_NAME</code></li><li><code>PROFILE_COMMAND</code>: backup, check, forget, etc.</li></ul><p>Additionally, for the <code>run-after-fail</code> commands, these environment variables will also be available:</p><ul><li><code>ERROR_MESSAGE</code> (and <code>ERROR</code>) containing the latest error message</li><li><code>ERROR_COMMANDLINE</code> containing the command line that failed</li><li><code>ERROR_EXIT_CODE</code> containing the exit code of the command line that failed</li><li><code>ERROR_STDERR</code> containing any message that the failed command sent to the standard error (stderr)</li></ul><p>The commands of <code>run-finally</code> get the environment of <code>run-after-fail</code> when <code>run-before</code>, <code>run-after</code> or <code>restic</code> failed.</p><p>Failures to run commands in <code>run-finally</code> are logged but do not influence environment, return code nor running of further commands listed in <code>run-finally</code>. This makes it the perfect choice for custom cleanup tasks that must always run.</p><p>All other command errors (= non-zero return code from a command) will skip running further commands in the same list and/or abort the flow.</p><h3 id=output-when-running-the-example-from-above>Output when running the example from above</h3><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>➜ resticprofile documents.backup
</span></span><span class=line><span class=cl><span class=o>==</span> run-before profile documents and <span class=nb>command</span> <span class=nv>backup</span>
</span></span><span class=line><span class=cl><span class=o>===</span> run-before backup in profile documents
</span></span><span class=line><span class=cl>...
</span></span><span class=line><span class=cl>processed <span class=m>355</span> files, 11.722 MiB in 0:00
</span></span><span class=line><span class=cl>snapshot 3949d2fb saved
</span></span><span class=line><span class=cl>...
</span></span><span class=line><span class=cl><span class=o>===</span> run-after backup in profile <span class=nv>documents</span>
</span></span><span class=line><span class=cl><span class=o>==</span> run-after profile documents and <span class=nb>command</span> <span class=nv>backup</span>
</span></span><span class=line><span class=cl><span class=o>===</span> run-finally after backup in profile <span class=nv>documents</span>
</span></span><span class=line><span class=cl><span class=o>==</span> run-finally from profile documents after <span class=nb>command</span> backup</span></span></code></pre></div><h3 id=order-of-run--during-a-backup>Order of <code>run-*</code> during a backup</h3><p>The commands will be running in this order <strong>during a backup</strong>:</p><ul><li><code>run-before</code> from the profile - if error, go to <code>run-after-fail</code></li><li><code>run-before</code> from the backup section - if error, go to <code>run-after-fail</code> from backup section</li><li>run the restic backup (with check and retention if configured) - if error, go to <code>run-after-fail</code> from backup section</li><li><code>run-after</code> from the backup section - if error, go to <code>run-after-fail</code> from backup section</li><li><code>run-after</code> from the profile - if error, go to <code>run-after-fail</code></li><li>If error: <code>run-after-fail</code> from the backup section - if error, go to <code>run-finally</code></li><li>If error: <code>run-after-fail</code> from the profile - if error, go to <code>run-finally</code></li><li><code>run-finally</code> from the backup section - if error, log and continue with next</li><li><code>run-finally</code> from the profile - if error, log and continue with next</li></ul><p>Maybe it&rsquo;s easier to understand with a flow diagram:</p><pre class="mermaid align-center">flowchart TB
    LOCK(set resticprofile lock)
    UNLOCK(delete resticprofile lock)
    PRB(&#39;run-before&#39; from profile)
    PRA(&#39;run-after&#39; from profile)

    subgraph Backup [ ]
        BRB(&#39;run-before&#39; from backup section)
        BRA(&#39;run-after&#39; from backup section)
        RUN(run restic backup with check and/or retention if configured)
    end

    subgraph Failure [ ]
        BFAIL(&#39;run-after-fail&#39; from backup section)
        PFAIL(&#39;run-after-fail&#39; from profile)
    end

    subgraph Finally [ ]
        direction TB
        BRF(&#39;run-finally&#39; from backup section)
        PRF(&#39;run-finally&#39; from profile)
        BRF --&gt; PRF
    end

    LOCK --&gt; PRB
    PRB --&gt;|Error| PFAIL
    PRB --&gt;|Success| BRB

    BRB --&gt;|Error| BFAIL
    BRB --&gt;|Success| RUN

    RUN --&gt;|Error| BFAIL
    RUN --&gt;|Success| BRA

    BRA --&gt;|Error| BFAIL
    BRA --&gt;|Success| PRA

    BFAIL --&gt;|Error| Finally
    BFAIL --&gt; PFAIL

    PRA --&gt;|Error| PFAIL
    PRA --&gt;|Success| Finally
    PFAIL --&gt; Finally
    Finally --&gt; UNLOCK

    style Backup fill:#9990,stroke:#9990
    style Failure fill:#9990,stroke:#9990
    style Finally fill:#9991,stroke:#9994,stroke-width:4px</pre><details open class="box cstyle notices warning"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-exclamation-triangle"></i>
resticprofile lock</summary><div class=box-content><p>The local resticprofile lock is surrounding the whole process. It means that the <code>run-after-fail</code> target is not called if the lock cannot be obtained. This is a limitation of the current implementation.</p></div></details><h3 id=passing-environment-variables>Passing environment variables</h3><p>Environment variables can be adjusted and passed between shell commands & restic by writing one or more <code>VARIABLE=VALUE</code> into an <code>env-file</code> that is configured within the current profile.
To simplify this for shell commands, the <a href=https://creativeprojects.github.io/resticprofile/configuration/templates/index.html>template</a> function <code>{{env}}</code> can be used to get a temporary dotenv file that is automatically appended to the <code>env-file</code> list of the current profile and reloaded whenever modified.</p><div class=tab-panel data-tab-group=config-with-json><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=toml class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("config-with-json","toml")'>
<span class=tab-nav-text>toml</span>
</button>
<button data-tab-item=yaml class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("config-with-json","yaml")'>
<span class=tab-nav-text>yaml</span>
</button>
<button data-tab-item=hcl class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("config-with-json","hcl")'>
<span class=tab-nav-text>hcl</span>
</button>
<button data-tab-item=json class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("config-with-json","json")'>
<span class=tab-nav-text>json</span></button></div><div class=tab-content-container><div data-tab-item=toml class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-toml data-lang=toml><span class=line><span class=cl><span class=nx>version</span> <span class=p>=</span> <span class=s2>&#34;1&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nx>documents</span><span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=nx>run-before</span> <span class=p>=</span> <span class=s1>&#39;echo &#34;RESTIC_DEBUG=/restic-debug.log&#34; &gt;&gt; &#34;{{env}}&#34;&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>[</span><span class=nx>documents</span><span class=p>.</span><span class=nx>backup</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=nx>run-before</span> <span class=p>=</span> <span class=s1>&#39;echo &#34;restic debug is written to $RESTIC_DEBUG&#34;&#39;</span></span></span></code></pre></div></div></div><div data-tab-item=yaml class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;1&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>documents</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>run-before</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;echo &#34;RESTIC_DEBUG=/restic-debug.log&#34; &gt;&gt; &#34;{{env}}&#34;&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>backup</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>run-before</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;echo &#34;restic debug is written to $RESTIC_DEBUG&#34;&#39;</span></span></span></code></pre></div></div></div><div data-tab-item=hcl class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-hcl data-lang=hcl><span class=line><span class=cl><span class=k>documents</span> {
</span></span><span class=line><span class=cl><span class=n>    run-before</span> <span class=o>=</span><span class=n> &#34;echo \&#34;RESTIC_DEBUG</span><span class=o>=</span><span class=err>/</span><span class=k>restic</span><span class=err>-</span><span class=k>debug</span><span class=p>.</span><span class=k>log</span><span class=err>\</span><span class=s2>&#34; &gt;&gt; \&#34;{{env}}\&#34;&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>    backup</span> <span class=o>=</span> {
</span></span><span class=line><span class=cl><span class=n>        run-before</span> <span class=o>=</span> <span class=s2>&#34;echo \&#34;restic debug is written to $RESTIC_DEBUG\&#34;&#34;</span>
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}</span></span></code></pre></div></div></div><div data-tab-item=json class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;version&#34;</span><span class=p>:</span> <span class=s2>&#34;1&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;documents&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;run-before&#34;</span><span class=p>:</span> <span class=s2>&#34;echo \&#34;RESTIC_DEBUG=/restic-debug.log\&#34; &gt;&gt; \&#34;{{env}}\&#34;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;backup&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;run-before&#34;</span><span class=p>:</span> <span class=s2>&#34;echo \&#34;restic debug is written to $RESTIC_DEBUG\&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div></div></div></div></div><h2 id=run-commands-on-stream-errors>Run commands on stream errors</h2><p>In addition to hooks around profile and command execution, resticprofile allows to monitor the standard error stream of the current running command and trigger a custom hook when an output error line matches a regular expression pattern.</p><div class=tab-panel data-tab-group=config-with-json><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=toml class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("config-with-json","toml")'>
<span class=tab-nav-text>toml</span>
</button>
<button data-tab-item=yaml class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("config-with-json","yaml")'>
<span class=tab-nav-text>yaml</span>
</button>
<button data-tab-item=hcl class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("config-with-json","hcl")'>
<span class=tab-nav-text>hcl</span>
</button>
<button data-tab-item=json class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("config-with-json","json")'>
<span class=tab-nav-text>json</span></button></div><div class=tab-content-container><div data-tab-item=toml class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-toml data-lang=toml><span class=line><span class=cl><span class=nx>version</span> <span class=p>=</span> <span class=s2>&#34;1&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nx>default</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>[[</span><span class=nx>default</span><span class=p>.</span><span class=nx>stream-error</span><span class=p>]]</span>
</span></span><span class=line><span class=cl><span class=nx>pattern</span> <span class=p>=</span> <span class=s2>&#34;.+ERROR.+&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>run</span> <span class=p>=</span> <span class=s1>&#39;echo &#34;Found ERROR at least 5 times in ${PROFILE_COMMAND}. Last matched line:&#34;; cat - &#39;</span>
</span></span><span class=line><span class=cl><span class=nx>max-runs</span> <span class=p>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl><span class=nx>min-matches</span> <span class=p>=</span> <span class=mi>5</span></span></span></code></pre></div></div></div><div data-tab-item=yaml class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;1&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>default</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>stream-error</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>pattern</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;.+ERROR.+&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;echo &#34;Found ERROR at least 5 times in ${PROFILE_COMMAND}. Last matched line:&#34;; cat - &#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>max-runs</span><span class=p>:</span><span class=w> </span><span class=m>0</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>min-matches</span><span class=p>:</span><span class=w> </span><span class=m>5</span></span></span></code></pre></div></div></div><div data-tab-item=hcl class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-hcl data-lang=hcl><span class=line><span class=cl><span class=k>default</span> {
</span></span><span class=line><span class=cl><span class=n>  stream-error</span> <span class=o>=</span> {
</span></span><span class=line><span class=cl><span class=n>      pattern</span> <span class=o>=</span> <span class=s2>&#34;.+ERROR.+&#34;</span> 
</span></span><span class=line><span class=cl>      <span class=n>run</span> <span class=o>=</span> <span class=s2>&#34;echo \&#34;Found ERROR at least 5 times in ${PROFILE_COMMAND}. Last matched line:\&#34;; cat - &#34;</span>
</span></span><span class=line><span class=cl><span class=n>      max-runs</span> <span class=o>=</span> <span class=m>0</span>
</span></span><span class=line><span class=cl><span class=n>      min-matches</span> <span class=o>=</span> <span class=m>5</span>
</span></span><span class=line><span class=cl>  }
</span></span><span class=line><span class=cl>}</span></span></code></pre></div></div></div><div data-tab-item=json class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;version&#34;</span><span class=p>:</span> <span class=s2>&#34;1&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;default&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;stream-error&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>      <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;pattern&#34;</span><span class=p>:</span> <span class=s2>&#34;.+ERROR.+&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;run&#34;</span><span class=p>:</span> <span class=s2>&#34;echo \&#34;Found ERROR at least 5 times in ${PROFILE_COMMAND}. Last matched line:\&#34;; cat - &#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;max-runs&#34;</span><span class=p>:</span> <span class=mi>0</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;min-matches&#34;</span><span class=p>:</span> <span class=mi>5</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div></div></div></div></div><p>The config structure <code>stream-error</code> can be defined multiple times within a profile and consists of the following properties:</p><ul><li><code>pattern</code>: a regular expression pattern matched against every line of stderr.</li><li><code>run</code>: the command to run when <code>pattern</code> is found in stderr.</li><li><code>max-runs</code>: maximum number of times that <code>run</code> is started for a single monitored command (or 0 for no limit).</li><li><code>min-matches</code>: minimum number of times that <code>pattern</code> must match before starting <code>run</code>.</li></ul><p>The <code>run</code> command inherits the environment of the monitored command on a pattern match, which always includes:</p><ul><li><code>PROFILE_NAME</code></li><li><code>PROFILE_COMMAND</code>: backup, check, forget, etc.</li></ul><p><em>Stdin</em> of the <code>run</code> command is populated with the error output line that matched the <code>pattern</code>. Using <code>"cat -"</code> in <code>run</code> effectively prints the line that triggered the action.</p><p>The following example shows how this could have been used with restic to address <code>check</code> failures caused by over usage of <code>/tmp/</code> (restic fixed this problem in 0.14.0):</p><div class=tab-panel data-tab-group=config-without-json><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=toml class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("config-without-json","toml")'>
<span class=tab-nav-text>toml</span>
</button>
<button data-tab-item=yaml class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("config-without-json","yaml")'>
<span class=tab-nav-text>yaml</span></button></div><div class=tab-content-container><div data-tab-item=toml class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-toml data-lang=toml><span class=line><span class=cl><span class=nx>version</span> <span class=p>=</span> <span class=s2>&#34;1&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nx>default</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>[[</span><span class=nx>default</span><span class=p>.</span><span class=nx>stream-error</span><span class=p>]]</span>
</span></span><span class=line><span class=cl><span class=nx>pattern</span> <span class=p>=</span> <span class=s2>&#34;/tmp/restic-check-cache.+no space left on device&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>run</span> <span class=p>=</span> <span class=s2>&#34;rm -Rf /tmp/restic-check-cache*&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>[[</span><span class=nx>default</span><span class=p>.</span><span class=nx>stream-error</span><span class=p>]]</span>
</span></span><span class=line><span class=cl><span class=nx>pattern</span> <span class=p>=</span> <span class=s2>&#34;mkdir /tmp/restic-check-cache.+no such file or directory&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>run</span> <span class=p>=</span> <span class=s2>&#34;cat - | cut -d : -f 2 - | grep -E &#39;mkdir /tmp[^ \\.]+$&#39; | sed &#39;s/mkdir/mkdir -p/&#39; - | sh&#34;</span></span></span></code></pre></div></div></div><div data-tab-item=yaml class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;1&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>default</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>stream-error</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>pattern</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;/tmp/restic-check-cache.+no space left on device&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;rm -Rf /tmp/restic-check-cache*&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>pattern</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;mkdir /tmp/restic-check-cache.+no such file or directory&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;cat - | cut -d : -f 2 - | grep -E &#39;mkdir /tmp[^ \\.]+$&#39; | sed &#39;s/mkdir/mkdir -p/&#39; - | sh&#34;</span></span></span></code></pre></div></div></div></div></div><footer class=footline></footer></article></div></main></div><aside id=R-sidebar class=default-animation><div id=R-header-topbar class=default-animation></div><div id=R-header-wrapper class=default-animation><div id=R-header class=default-animation><style>a#R-logo{display:flex;align-items:center;transition:opacity .3s ease}a#R-logo img{max-width:min(40%,100px);height:auto;margin-right:10px}@media(max-width:768px){a#R-logo img{max-width:30%}}a#R-logo span{display:flex;flex-direction:column;color:inherit;text-decoration:none}a#R-logo .restic{font-weight:700}</style><a id=R-logo class=R-default href=https://creativeprojects.github.io/resticprofile/index.html><img src=https://creativeprojects.github.io/resticprofile/images/logo.png alt="ResticProfile Logo">
<span><span class=restic>Restic</span>
<span class=profile>Profile</span></span></a></div><search><form action=https://creativeprojects.github.io/resticprofile/search/index.html method=get><div class="searchbox default-animation"><button class=search-detail type=submit title="Search (CTRL+ALT+f)"><i class="fas fa-search"></i></button>
<label class=a11y-only for=R-search-by>Search</label>
<input data-search-input id=R-search-by name=search-by class=search-by type=search placeholder=Search...>
<button class=search-clear type=button data-search-clear title="Clear search"><i class="fas fa-times" title="Clear search"></i></button></div></form></search></div><div id=R-homelinks class="default-animation homelinks"><div class="R-menu-divider default-animation"><hr class=padding></div><div class="R-sidebarmenu R-shortcutmenu-homelinks"><ul class="space collapsible-menu"><li data-nav-id=/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/index.html><i class="fa-fw fas fa-home"></i> Home</a></li></ul></div><div class="R-menu-divider default-animation"><hr class=padding></div><div class="R-sidebarmenu R-shortcutmenu-headercontrols"><ul></ul></div><div class="R-menu-divider default-animation"><hr class=padding></div></div><div id=R-content-wrapper class=highlightable><div class="R-sidebarmenu R-shortcutmenu-home"><ul class="enlarge morespace collapsible-menu"><li data-nav-id=/installation/index.html><input type=checkbox id=R-section-ff749ccaab053548f690f97bcd6daed0 aria-controls=R-subsections-ff749ccaab053548f690f97bcd6daed0><label for=R-section-ff749ccaab053548f690f97bcd6daed0><i class="fa-fw fas fa-chevron-right"></i><span class=a11y-only>Submenu Installation</span></label><a class=padding href=https://creativeprojects.github.io/resticprofile/installation/index.html><b>1. </b>Installation</a><ul id=R-subsections-ff749ccaab053548f690f97bcd6daed0 class=collapsible-menu><li data-nav-id=/installation/binaries/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/installation/binaries/index.html>Pre-built binaries</a></li><li data-nav-id=/installation/linux/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/installation/linux/index.html>Linux</a></li><li data-nav-id=/installation/macosx/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/installation/macosx/index.html>mac OS</a></li><li data-nav-id=/installation/windows/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/installation/windows/index.html>Windows</a></li><li data-nav-id=/installation/ansible/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/installation/ansible/index.html>Ansible</a></li><li data-nav-id=/installation/source/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/installation/source/index.html>Source</a></li><li data-nav-id=/installation/upgrade/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/installation/upgrade/index.html>Upgrade</a></li><li data-nav-id=/installation/docker/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/installation/docker/index.html>Docker</a></li><li data-nav-id=/installation/shell/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/installation/shell/index.html>Shell Completion</a></li></ul></li><li class=parent data-nav-id=/configuration/index.html><input type=checkbox id=R-section-6f6dce359ca8d596b5b1de1969a0aca2 aria-controls=R-subsections-6f6dce359ca8d596b5b1de1969a0aca2 checked><label for=R-section-6f6dce359ca8d596b5b1de1969a0aca2><i class="fa-fw fas fa-chevron-right"></i><span class=a11y-only>Submenu Configuration file</span></label><a class=padding href=https://creativeprojects.github.io/resticprofile/configuration/index.html><b>2. </b>Configuration file</a><ul id=R-subsections-6f6dce359ca8d596b5b1de1969a0aca2 class=collapsible-menu><li data-nav-id=/configuration/getting_started/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/configuration/getting_started/index.html>Getting Started</a></li><li data-nav-id=/configuration/examples/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/configuration/examples/index.html>Examples</a></li><li data-nav-id=/configuration/path/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/configuration/path/index.html>Path</a></li><li data-nav-id=/configuration/include/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/configuration/include/index.html>Includes</a></li><li data-nav-id=/configuration/inheritance/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/configuration/inheritance/index.html>Inheritance</a></li><li data-nav-id=/configuration/copy/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/configuration/copy/index.html>Copy command</a></li><li class=active data-nav-id=/configuration/run_hooks/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/configuration/run_hooks/index.html>Command Hooks</a></li><li data-nav-id=/configuration/http_hooks/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/configuration/http_hooks/index.html>HTTP Hooks</a></li><li data-nav-id=/configuration/templates/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/configuration/templates/index.html>Templates</a></li><li data-nav-id=/configuration/variables/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/configuration/variables/index.html>Variables</a></li><li data-nav-id=/configuration/warnings/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/configuration/warnings/index.html>Warnings</a></li><li data-nav-id=/configuration/priority/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/configuration/priority/index.html>Priority</a></li><li data-nav-id=/configuration/sleep/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/configuration/sleep/index.html>Preventing system sleep</a></li><li data-nav-id=/configuration/logs/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/configuration/logs/index.html>Logs</a></li><li data-nav-id=/configuration/jsonschema/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/configuration/jsonschema/index.html>JSON schema</a></li><li data-nav-id=/configuration/v2/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/configuration/v2/index.html>Configuration v2 proposal</a></li></ul></li><li data-nav-id=/usage/index.html><input type=checkbox id=R-section-62f9042a23780ab51a3b699210e86d03 aria-controls=R-subsections-62f9042a23780ab51a3b699210e86d03><label for=R-section-62f9042a23780ab51a3b699210e86d03><i class="fa-fw fas fa-chevron-right"></i><span class=a11y-only>Submenu Using resticprofile</span></label><a class=padding href=https://creativeprojects.github.io/resticprofile/usage/index.html><b>3. </b>Using resticprofile</a><ul id=R-subsections-62f9042a23780ab51a3b699210e86d03 class=collapsible-menu><li data-nav-id=/usage/version/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/usage/version/index.html>Version</a></li><li data-nav-id=/usage/keyfile/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/usage/keyfile/index.html>Generate a Keyfile</a></li><li data-nav-id=/usage/memory/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/usage/memory/index.html>Memory</a></li><li data-nav-id=/usage/locks/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/usage/locks/index.html>Locks</a></li></ul></li><li data-nav-id=/schedules/index.html><input type=checkbox id=R-section-5d098b05363f64ff2ba3671d78edad9c aria-controls=R-subsections-5d098b05363f64ff2ba3671d78edad9c><label for=R-section-5d098b05363f64ff2ba3671d78edad9c><i class="fa-fw fas fa-chevron-right"></i><span class=a11y-only>Submenu Schedules</span></label><a class=padding href=https://creativeprojects.github.io/resticprofile/schedules/index.html><b>4. </b>Schedules</a><ul id=R-subsections-5d098b05363f64ff2ba3671d78edad9c class=collapsible-menu><li data-nav-id=/schedules/configuration/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/schedules/configuration/index.html>Schedule Configuration</a></li><li data-nav-id=/schedules/commands/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/schedules/commands/index.html>Schedule Commands</a></li><li data-nav-id=/schedules/examples/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/schedules/examples/index.html>Schedule Examples</a></li><li data-nav-id=/schedules/systemd/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/schedules/systemd/index.html>Systemd</a></li><li data-nav-id=/schedules/launchd/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/schedules/launchd/index.html>Launchd on macOS</a></li><li data-nav-id=/schedules/task_scheduler/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/schedules/task_scheduler/index.html>Windows Task Scheduler</a></li><li data-nav-id=/schedules/cron/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/schedules/cron/index.html>Cron & compatible</a></li><li data-nav-id=/schedules/non-root-schedule-in-container/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/schedules/non-root-schedule-in-container/index.html>User schedule in container</a></li></ul></li><li data-nav-id=/monitoring/index.html><input type=checkbox id=R-section-a0e069e6fac7784c30d45b70837f6ac6 aria-controls=R-subsections-a0e069e6fac7784c30d45b70837f6ac6><label for=R-section-a0e069e6fac7784c30d45b70837f6ac6><i class="fa-fw fas fa-chevron-right"></i><span class=a11y-only>Submenu Monitoring</span></label><a class=padding href=https://creativeprojects.github.io/resticprofile/monitoring/index.html><b>5. </b>Monitoring</a><ul id=R-subsections-a0e069e6fac7784c30d45b70837f6ac6 class=collapsible-menu><li data-nav-id=/monitoring/status/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/monitoring/status/index.html>Status file</a></li><li data-nav-id=/monitoring/prometheus/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/monitoring/prometheus/index.html>Prometheus</a></li></ul></li><li data-nav-id=/reference/index.html><input type=checkbox id=R-section-66002f201bef818664bb81aa67490c58 aria-controls=R-subsections-66002f201bef818664bb81aa67490c58><label for=R-section-66002f201bef818664bb81aa67490c58><i class="fa-fw fas fa-chevron-right"></i><span class=a11y-only>Submenu Reference</span></label><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/index.html><b>6. </b>Reference</a><ul id=R-subsections-66002f201bef818664bb81aa67490c58 class=collapsible-menu><li data-nav-id=/reference/global/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/global/index.html>Section global</a></li><li data-nav-id=/reference/profile/index.html><input type=checkbox id=R-section-2b27328718862c5708b95d5e4972db36 aria-controls=R-subsections-2b27328718862c5708b95d5e4972db36><label for=R-section-2b27328718862c5708b95d5e4972db36><i class="fa-fw fas fa-chevron-right"></i><span class=a11y-only>Submenu Section Profile</span></label><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/index.html>Section Profile</a><ul id=R-subsections-2b27328718862c5708b95d5e4972db36 class=collapsible-menu><li data-nav-id=/reference/profile/backup/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/backup/index.html>backup</a></li><li data-nav-id=/reference/profile/cache/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/cache/index.html>cache</a></li><li data-nav-id=/reference/profile/cat/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/cat/index.html>cat</a></li><li data-nav-id=/reference/profile/check/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/check/index.html>check</a></li><li data-nav-id=/reference/profile/copy/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/copy/index.html>copy</a></li><li data-nav-id=/reference/profile/diff/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/diff/index.html>diff</a></li><li data-nav-id=/reference/profile/dump/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/dump/index.html>dump</a></li><li data-nav-id=/reference/profile/features/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/features/index.html>features</a></li><li data-nav-id=/reference/profile/find/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/find/index.html>find</a></li><li data-nav-id=/reference/profile/forget/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/forget/index.html>forget</a></li><li data-nav-id=/reference/profile/init/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/init/index.html>init</a></li><li data-nav-id=/reference/profile/key/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/key/index.html>key</a></li><li data-nav-id=/reference/profile/key-add/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/key-add/index.html>key-add</a></li><li data-nav-id=/reference/profile/key-list/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/key-list/index.html>key-list</a></li><li data-nav-id=/reference/profile/key-passwd/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/key-passwd/index.html>key-passwd</a></li><li data-nav-id=/reference/profile/key-remove/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/key-remove/index.html>key-remove</a></li><li data-nav-id=/reference/profile/list/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/list/index.html>list</a></li><li data-nav-id=/reference/profile/ls/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/ls/index.html>ls</a></li><li data-nav-id=/reference/profile/migrate/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/migrate/index.html>migrate</a></li><li data-nav-id=/reference/profile/mount/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/mount/index.html>mount</a></li><li data-nav-id=/reference/profile/options/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/options/index.html>options</a></li><li data-nav-id=/reference/profile/prune/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/prune/index.html>prune</a></li><li data-nav-id=/reference/profile/rebuild-index/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/rebuild-index/index.html>rebuild-index</a></li><li data-nav-id=/reference/profile/recover/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/recover/index.html>recover</a></li><li data-nav-id=/reference/profile/repair/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/repair/index.html>repair</a></li><li data-nav-id=/reference/profile/repair-index/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/repair-index/index.html>repair-index</a></li><li data-nav-id=/reference/profile/repair-packs/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/repair-packs/index.html>repair-packs</a></li><li data-nav-id=/reference/profile/repair-snapshots/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/repair-snapshots/index.html>repair-snapshots</a></li><li data-nav-id=/reference/profile/restore/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/restore/index.html>restore</a></li><li data-nav-id=/reference/profile/retention/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/retention/index.html>retention</a></li><li data-nav-id=/reference/profile/rewrite/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/rewrite/index.html>rewrite</a></li><li data-nav-id=/reference/profile/snapshots/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/snapshots/index.html>snapshots</a></li><li data-nav-id=/reference/profile/stats/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/stats/index.html>stats</a></li><li data-nav-id=/reference/profile/tag/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/tag/index.html>tag</a></li><li data-nav-id=/reference/profile/unlock/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/unlock/index.html>unlock</a></li></ul></li><li data-nav-id=/reference/nested/index.html><input type=checkbox id=R-section-8e740c11fa05d6c23f17ed19569e00ae aria-controls=R-subsections-8e740c11fa05d6c23f17ed19569e00ae><label for=R-section-8e740c11fa05d6c23f17ed19569e00ae><i class="fa-fw fas fa-chevron-right"></i><span class=a11y-only>Submenu Nested Sections</span></label><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/nested/index.html>Nested Sections</a><ul id=R-subsections-8e740c11fa05d6c23f17ed19569e00ae class=collapsible-menu><li data-nav-id=/reference/nested/schedulebaseconfig/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/nested/schedulebaseconfig/index.html>ScheduleBaseConfig</a></li><li data-nav-id=/reference/nested/scheduleconfig/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/nested/scheduleconfig/index.html>ScheduleConfig</a></li><li data-nav-id=/reference/nested/sendmonitoringheader/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/nested/sendmonitoringheader/index.html>SendMonitoringHeader</a></li><li data-nav-id=/reference/nested/sendmonitoringsection/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/nested/sendmonitoringsection/index.html>SendMonitoringSection</a></li><li data-nav-id=/reference/nested/streamerrorsection/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/nested/streamerrorsection/index.html>StreamErrorSection</a></li></ul></li><li data-nav-id=/reference/groups/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/groups/index.html>Section Groups</a></li><li data-nav-id=/reference/value-types/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/value-types/index.html>Value types</a></li><li data-nav-id=/reference/json-schema/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/json-schema/index.html>JSON Schema</a></li></ul></li><li data-nav-id=/contributions/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/contributions/index.html><b>7. </b>Contributions</a></li><li data-nav-id=/changelog/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/changelog/index.html><b>8. </b>Release Notes</a></li></ul></div><div class="R-sidebarmenu R-shortcutmenu-version"><ul class="space collapsible-menu"></ul></div><div class="R-sidebarmenu R-shortcutmenu-shortcuts"><div class="nav-title padding">More</div><ul class="space collapsible-menu"><li data-nav-id=/tags><a class=padding href=https://creativeprojects.github.io/resticprofile/tags><i class='fas fa-tags'></i> Tags</a></li><li data-nav-id=https://github.com/creativeprojects/resticprofile/><a class=padding href=https://github.com/creativeprojects/resticprofile/ rel=external target=_blank><i class='fab fa-fw fa-github'></i> GitHub repo</a></li><li data-nav-id=https://restic.readthedocs.io/><a class=padding href=https://restic.readthedocs.io/ rel=external target=_blank><i class='fas fa-fw fa-bookmark'></i> Restic Documentation</a></li></ul></div><div id=R-footer-margin></div><div class="R-menu-divider default-animation"><hr class=padding></div><div class="R-sidebarmenu R-shortcutmenu-footercontrols"><ul><li class=R-variantswitcher><div class="padding menu-control"><i class="fa-fw fas fa-paint-brush"></i>
<span>&nbsp;</span><div class=control-style><label class=a11y-only for=R-select-variant>Theme</label>
<select id=R-select-variant><option id=R-select-variant-relearn-auto value=relearn-auto selected>Relearn Light/Dark</option><option id=R-select-variant-relearn-light value=relearn-light>Relearn Light</option><option id=R-select-variant-relearn-dark value=relearn-dark>Relearn Dark</option></select></div><div class=clear></div></div><script>window.relearn.markVariant()</script></li></ul></div><div id=R-footer><a class=github-button href=https://github.com/creativeprojects/resticprofile data-color-scheme="no-preference: light; light: light; dark: dark_dimmed;" data-size=large data-show-count=true aria-label="Star creativeprojects/resticprofile on GitHub">Star</a><p>Built with <a href=https://github.com/McShelby/hugo-theme-relearn title=love><i class="fas fa-heart"></i></a> by <a href=https://gohugo.io/>Hugo</a></p><script async defer src=https://buttons.github.io/buttons.js></script></div></div></aside><script src=https://creativeprojects.github.io/resticprofile/js/clipboard/clipboard.min.js?1758895522 defer></script><script src=https://creativeprojects.github.io/resticprofile/js/perfect-scrollbar/perfect-scrollbar.min.js?1758895522 defer></script><script src=https://creativeprojects.github.io/resticprofile/js/js-yaml/js-yaml.min.js?1758895522 defer></script><script src=https://creativeprojects.github.io/resticprofile/js/d3/d3-color.min.js?1758895522 defer></script><script src=https://creativeprojects.github.io/resticprofile/js/d3/d3-dispatch.min.js?1758895522 defer></script><script src=https://creativeprojects.github.io/resticprofile/js/d3/d3-drag.min.js?1758895522 defer></script><script src=https://creativeprojects.github.io/resticprofile/js/d3/d3-ease.min.js?1758895522 defer></script><script src=https://creativeprojects.github.io/resticprofile/js/d3/d3-interpolate.min.js?1758895522 defer></script><script src=https://creativeprojects.github.io/resticprofile/js/d3/d3-selection.min.js?1758895522 defer></script><script src=https://creativeprojects.github.io/resticprofile/js/d3/d3-timer.min.js?1758895522 defer></script><script src=https://creativeprojects.github.io/resticprofile/js/d3/d3-transition.min.js?1758895522 defer></script><script src=https://creativeprojects.github.io/resticprofile/js/d3/d3-zoom.min.js?1758895522 defer></script><script src=https://creativeprojects.github.io/resticprofile/js/mermaid/mermaid.min.js?1758895522 defer></script><script>window.relearn.themeUseMermaid=JSON.parse("{}")</script><script src=https://creativeprojects.github.io/resticprofile/js/theme.min.js?1758895522 defer></script></body></html>