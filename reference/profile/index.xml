<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Section Profile :: resticprofile</title><link>https://creativeprojects.github.io/resticprofile/reference/profile/index.html</link><description>Profile sections In config file format v1, the name of this section is the name of your profile (excluding reserved names like global, groups, includes &amp; version).
From config file format v2, profile sections are declared as named configuration structure below section profiles (see Configuration v2 for details).
Section profile Flags used by resticprofile only: Name Type Default Notes base-dir string Sets the working directory for this profile. The profile will fail when the working directory cannot be changed.</description><generator>Hugo</generator><language>en-gb</language><lastBuildDate>Sat, 06 Jul 2024 09:03:42 +0000</lastBuildDate><atom:link href="https://creativeprojects.github.io/resticprofile/reference/profile/index.xml" rel="self" type="application/rss+xml"/><item><title>backup</title><link>https://creativeprojects.github.io/resticprofile/reference/profile/backup/index.html</link><pubDate>Sat, 06 Jul 2024 09:03:42 +0000</pubDate><guid>https://creativeprojects.github.io/resticprofile/reference/profile/backup/index.html</guid><description>Section profile.backup This section configures restic command backup . Information on command and flags is copied from the restic manual pages.
The “backup” command creates a new snapshot and saves the files and directories given as the arguments.
Flags used by resticprofile only: Name Type Default Notes check-after true / false false Check the repository after the backup command succeeded check-before true / false false Check the repository before starting the backup command no-error-on-warning true / false false Do not fail the backup when some files could not be read run-after one or more strings Run shell command(s) after a successful restic command run-after-fail one or more strings Run shell command(s) after failed restic or shell commands run-before one or more strings Run shell command(s) before a restic command run-finally one or more strings Run shell command(s) always, after all other commands schedule one or more strings OR nested ScheduleConfig Configures the scheduled execution of this profile section.</description></item><item><title>cache</title><link>https://creativeprojects.github.io/resticprofile/reference/profile/cache/index.html</link><pubDate>Sat, 06 Jul 2024 09:03:42 +0000</pubDate><guid>https://creativeprojects.github.io/resticprofile/reference/profile/cache/index.html</guid><description>Section profile.cache This section configures restic command cache . Information on command and flags is copied from the restic manual pages.
The “cache” command allows listing and cleaning local cache directories.
Flags used by resticprofile only: Name Type Default Notes run-after one or more strings Run shell command(s) after a successful restic command run-after-fail one or more strings Run shell command(s) after failed restic or shell commands run-before one or more strings Run shell command(s) before a restic command run-finally one or more strings Run shell command(s) always, after all other commands Flags passed to the restic command line: Name Type Default Notes cleanup true / false false remove old cache directories max-age integer 30 max age in days for cache directories to be considered old no-size true / false false do not output the size of the cache directories Flags declared for the restic command line in section profile can be overridden in this section.</description></item><item><title>cat</title><link>https://creativeprojects.github.io/resticprofile/reference/profile/cat/index.html</link><pubDate>Sat, 06 Jul 2024 09:03:42 +0000</pubDate><guid>https://creativeprojects.github.io/resticprofile/reference/profile/cat/index.html</guid><description>Section profile.cat This section configures restic command cat . Information on command and flags is copied from the restic manual pages.
The “cat” command is used to print internal objects to stdout.
Flags used by resticprofile only: Name Type Default Notes run-after one or more strings Run shell command(s) after a successful restic command run-after-fail one or more strings Run shell command(s) after failed restic or shell commands run-before one or more strings Run shell command(s) before a restic command run-finally one or more strings Run shell command(s) always, after all other commands Flags declared for the restic command line in section profile can be overridden in this section.</description></item><item><title>check</title><link>https://creativeprojects.github.io/resticprofile/reference/profile/check/index.html</link><pubDate>Sat, 06 Jul 2024 09:03:42 +0000</pubDate><guid>https://creativeprojects.github.io/resticprofile/reference/profile/check/index.html</guid><description>Section profile.check This section configures restic command check . Information on command and flags is copied from the restic manual pages.
The “check” command tests the repository for errors and reports any errors it finds. It can also be used to read all data and therefore simulate a restore.
By default, the “check” command will always load all data directly from the repository and not use a local cache.
Flags used by resticprofile only: Name Type Default Notes schedule one or more strings OR nested ScheduleConfig Configures the scheduled execution of this profile section.</description></item><item><title>copy</title><link>https://creativeprojects.github.io/resticprofile/reference/profile/copy/index.html</link><pubDate>Sat, 06 Jul 2024 09:03:42 +0000</pubDate><guid>https://creativeprojects.github.io/resticprofile/reference/profile/copy/index.html</guid><description>Section profile.copy This section configures restic command copy available since 0.10.0 . Information on command and flags is copied from the restic manual pages.
The “copy” command copies one or more snapshots from one repository to another.
NOTE: This process will have to both download (read) and upload (write) the entire snapshot(s) due to the different encryption keys used in the source and destination repositories. This /may incur higher bandwidth usage and costs/ than expected during normal backup runs.</description></item><item><title>diff</title><link>https://creativeprojects.github.io/resticprofile/reference/profile/diff/index.html</link><pubDate>Sat, 06 Jul 2024 09:03:42 +0000</pubDate><guid>https://creativeprojects.github.io/resticprofile/reference/profile/diff/index.html</guid><description>Section profile.diff This section configures restic command diff . Information on command and flags is copied from the restic manual pages.
The “diff” command shows differences from the first to the second snapshot. The first characters in each line display what has happened to a particular file or directory:
The item was added The item was removed U The metadata (access mode, timestamps, …) for the item was updated M The file’s content was modified T The type was changed, e.</description></item><item><title>dump</title><link>https://creativeprojects.github.io/resticprofile/reference/profile/dump/index.html</link><pubDate>Sat, 06 Jul 2024 09:03:42 +0000</pubDate><guid>https://creativeprojects.github.io/resticprofile/reference/profile/dump/index.html</guid><description>Section profile.dump This section configures restic command dump . Information on command and flags is copied from the restic manual pages.
The “dump” command extracts files from a snapshot from the repository. If a single file is selected, it prints its contents to stdout. Folders are output as a tar (default) or zip file containing the contents of the specified folder. Pass “/” as file name to dump the whole snapshot as an archive file.</description></item><item><title>find</title><link>https://creativeprojects.github.io/resticprofile/reference/profile/find/index.html</link><pubDate>Sat, 06 Jul 2024 09:03:42 +0000</pubDate><guid>https://creativeprojects.github.io/resticprofile/reference/profile/find/index.html</guid><description>Section profile.find This section configures restic command find . Information on command and flags is copied from the restic manual pages.
The “find” command searches for files or directories in snapshots stored in the repo. It can also be used to search for restic blobs or trees for troubleshooting.
Flags used by resticprofile only: Name Type Default Notes run-after one or more strings Run shell command(s) after a successful restic command run-after-fail one or more strings Run shell command(s) after failed restic or shell commands run-before one or more strings Run shell command(s) before a restic command run-finally one or more strings Run shell command(s) always, after all other commands Flags passed to the restic command line: Name Type Default Notes blob true / false false pattern is a blob-ID host true / false OR one or more hostnames only consider snapshots for this host.</description></item><item><title>forget</title><link>https://creativeprojects.github.io/resticprofile/reference/profile/forget/index.html</link><pubDate>Sat, 06 Jul 2024 09:03:42 +0000</pubDate><guid>https://creativeprojects.github.io/resticprofile/reference/profile/forget/index.html</guid><description>Section profile.forget This section configures restic command forget . Information on command and flags is copied from the restic manual pages.
The “forget” command removes snapshots according to a policy. All snapshots are first divided into groups according to “–group-by”, and after that the policy specified by the “–keep-*” options is applied to each group individually.
Please note that this command really only deletes the snapshot object in the repository, which is a reference to data stored there.</description></item><item><title>init</title><link>https://creativeprojects.github.io/resticprofile/reference/profile/init/index.html</link><pubDate>Sat, 06 Jul 2024 09:03:42 +0000</pubDate><guid>https://creativeprojects.github.io/resticprofile/reference/profile/init/index.html</guid><description>Section profile.init This section configures restic command init . Information on command and flags is copied from the restic manual pages.
The “init” command initializes a new repository.
Flags passed to the restic command line: Name Type Default Notes copy-chunker-params true / false false copy chunker parameters from the secondary repository (useful with the copy command). restic >= 0.10.0 from-key-hint string "" key ID of key to try decrypting the source repository first (default: $RESTIC_FROM_KEY_HINT).</description></item><item><title>key</title><link>https://creativeprojects.github.io/resticprofile/reference/profile/key/index.html</link><pubDate>Sat, 06 Jul 2024 09:03:42 +0000</pubDate><guid>https://creativeprojects.github.io/resticprofile/reference/profile/key/index.html</guid><description>Section profile.key This section configures restic command key . Information on command and flags is copied from the restic manual pages.
The “key” command manages keys (passwords) for accessing the repository.
Flags used by resticprofile only: Name Type Default Notes run-after one or more strings Run shell command(s) after a successful restic command run-after-fail one or more strings Run shell command(s) after failed restic or shell commands run-before one or more strings Run shell command(s) before a restic command run-finally one or more strings Run shell command(s) always, after all other commands Flags passed to the restic command line: Name Type Default Notes host true / false OR hostname "" the hostname for new keys.</description></item><item><title>list</title><link>https://creativeprojects.github.io/resticprofile/reference/profile/list/index.html</link><pubDate>Sat, 06 Jul 2024 09:03:42 +0000</pubDate><guid>https://creativeprojects.github.io/resticprofile/reference/profile/list/index.html</guid><description>Section profile.list This section configures restic command list . Information on command and flags is copied from the restic manual pages.
The “list” command allows listing objects in the repository based on type.
Flags used by resticprofile only: Name Type Default Notes run-after one or more strings Run shell command(s) after a successful restic command run-after-fail one or more strings Run shell command(s) after failed restic or shell commands run-before one or more strings Run shell command(s) before a restic command run-finally one or more strings Run shell command(s) always, after all other commands Flags declared for the restic command line in section profile can be overridden in this section.</description></item><item><title>ls</title><link>https://creativeprojects.github.io/resticprofile/reference/profile/ls/index.html</link><pubDate>Sat, 06 Jul 2024 09:03:42 +0000</pubDate><guid>https://creativeprojects.github.io/resticprofile/reference/profile/ls/index.html</guid><description>Section profile.ls This section configures restic command ls . Information on command and flags is copied from the restic manual pages.
The “ls” command lists files and directories in a snapshot.
The special snapshot ID “latest” can be used to list files and directories of the latest snapshot in the repository. The –host flag can be used in conjunction to select the latest snapshot originating from a certain host only.</description></item><item><title>migrate</title><link>https://creativeprojects.github.io/resticprofile/reference/profile/migrate/index.html</link><pubDate>Sat, 06 Jul 2024 09:03:42 +0000</pubDate><guid>https://creativeprojects.github.io/resticprofile/reference/profile/migrate/index.html</guid><description>Section profile.migrate This section configures restic command migrate . Information on command and flags is copied from the restic manual pages.
The “migrate” command checks which migrations can be applied for a repository and prints a list with available migration names. If one or more migration names are specified, these migrations are applied.
Flags used by resticprofile only: Name Type Default Notes run-after one or more strings Run shell command(s) after a successful restic command run-after-fail one or more strings Run shell command(s) after failed restic or shell commands run-before one or more strings Run shell command(s) before a restic command run-finally one or more strings Run shell command(s) always, after all other commands Flags passed to the restic command line: Name Type Default Notes force true / false false apply a migration a second time Flags declared for the restic command line in section profile can be overridden in this section.</description></item><item><title>mount</title><link>https://creativeprojects.github.io/resticprofile/reference/profile/mount/index.html</link><pubDate>Sat, 06 Jul 2024 09:03:42 +0000</pubDate><guid>https://creativeprojects.github.io/resticprofile/reference/profile/mount/index.html</guid><description>Section profile.mount This section configures restic command mount . Information on command and flags is copied from the restic manual pages.
The “mount” command mounts the repository via fuse to a directory. This is a read-only mount.
If you need a different template for directories that contain snapshots, you can pass a time template via –time-template and path templates via –path-template.
Example time template without colons:
–time-template “2006-01-02_15-04-05”
You need to specify a sample format for exactly the following timestamp:</description></item><item><title>prune</title><link>https://creativeprojects.github.io/resticprofile/reference/profile/prune/index.html</link><pubDate>Sat, 06 Jul 2024 09:03:42 +0000</pubDate><guid>https://creativeprojects.github.io/resticprofile/reference/profile/prune/index.html</guid><description>Section profile.prune This section configures restic command prune . Information on command and flags is copied from the restic manual pages.
The “prune” command checks the repository and removes data that is not referenced and therefore not needed any more.
Flags used by resticprofile only: Name Type Default Notes schedule one or more strings OR nested ScheduleConfig Configures the scheduled execution of this profile section. Can be times in systemd timer format or a config structure.</description></item><item><title>rebuild-index</title><link>https://creativeprojects.github.io/resticprofile/reference/profile/rebuild-index/index.html</link><pubDate>Sat, 06 Jul 2024 09:03:42 +0000</pubDate><guid>https://creativeprojects.github.io/resticprofile/reference/profile/rebuild-index/index.html</guid><description>Section profile.rebuild-index This section configures restic command rebuild-index removed in 0.16.0 . Information on command and flags is copied from the restic manual pages.
The “rebuild-index” command creates a new index based on the pack files in the repository.
Flags used by resticprofile only: Name Type Default Notes run-after one or more strings Run shell command(s) after a successful restic command run-after-fail one or more strings Run shell command(s) after failed restic or shell commands run-before one or more strings Run shell command(s) before a restic command run-finally one or more strings Run shell command(s) always, after all other commands Flags passed to the restic command line: Name Type Default Notes read-all-packs true / false false read all pack files to generate new index from scratch.</description></item><item><title>recover</title><link>https://creativeprojects.github.io/resticprofile/reference/profile/recover/index.html</link><pubDate>Sat, 06 Jul 2024 09:03:42 +0000</pubDate><guid>https://creativeprojects.github.io/resticprofile/reference/profile/recover/index.html</guid><description>Section profile.recover This section configures restic command recover . Information on command and flags is copied from the restic manual pages.
The “recover” command builds a new snapshot from all directories it can find in the raw data of the repository which are not referenced in an existing snapshot. It can be used if, for example, a snapshot has been removed by accident with “forget”.
Flags used by resticprofile only: Name Type Default Notes run-after one or more strings Run shell command(s) after a successful restic command run-after-fail one or more strings Run shell command(s) after failed restic or shell commands run-before one or more strings Run shell command(s) before a restic command run-finally one or more strings Run shell command(s) always, after all other commands Flags declared for the restic command line in section profile can be overridden in this section.</description></item><item><title>repair</title><link>https://creativeprojects.github.io/resticprofile/reference/profile/repair/index.html</link><pubDate>Sat, 06 Jul 2024 09:03:42 +0000</pubDate><guid>https://creativeprojects.github.io/resticprofile/reference/profile/repair/index.html</guid><description>Section profile.repair This section configures restic command repair available since 0.16.0 . Information on command and flags is copied from the restic manual pages.
Repair the repository
Flags used by resticprofile only: Name Type Default Notes run-after one or more strings Run shell command(s) after a successful restic command run-after-fail one or more strings Run shell command(s) after failed restic or shell commands run-before one or more strings Run shell command(s) before a restic command run-finally one or more strings Run shell command(s) always, after all other commands Flags declared for the restic command line in section profile can be overridden in this section.</description></item><item><title>repair-index</title><link>https://creativeprojects.github.io/resticprofile/reference/profile/repair-index/index.html</link><pubDate>Sat, 06 Jul 2024 09:03:42 +0000</pubDate><guid>https://creativeprojects.github.io/resticprofile/reference/profile/repair-index/index.html</guid><description>Section profile.repair-index This section configures restic command repair-index available since 0.16.0 . Information on command and flags is copied from the restic manual pages.
The “repair index” command creates a new index based on the pack files in the repository.
Flags used by resticprofile only: Name Type Default Notes run-after one or more strings Run shell command(s) after a successful restic command run-after-fail one or more strings Run shell command(s) after failed restic or shell commands run-before one or more strings Run shell command(s) before a restic command run-finally one or more strings Run shell command(s) always, after all other commands Flags passed to the restic command line: Name Type Default Notes read-all-packs true / false false read all pack files to generate new index from scratch.</description></item><item><title>repair-snapshots</title><link>https://creativeprojects.github.io/resticprofile/reference/profile/repair-snapshots/index.html</link><pubDate>Sat, 06 Jul 2024 09:03:42 +0000</pubDate><guid>https://creativeprojects.github.io/resticprofile/reference/profile/repair-snapshots/index.html</guid><description>Section profile.repair-snapshots This section configures restic command repair-snapshots available since 0.16.0 . Information on command and flags is copied from the restic manual pages.
The “repair snapshots” command repairs broken snapshots. It scans the given snapshots and generates new ones with damaged directories and file contents removed. If the broken snapshots are deleted, a prune run will be able to clean up the repository.
The command depends on a correct index, thus make sure to run “repair index” first!</description></item><item><title>restore</title><link>https://creativeprojects.github.io/resticprofile/reference/profile/restore/index.html</link><pubDate>Sat, 06 Jul 2024 09:03:42 +0000</pubDate><guid>https://creativeprojects.github.io/resticprofile/reference/profile/restore/index.html</guid><description>Section profile.restore This section configures restic command restore . Information on command and flags is copied from the restic manual pages.
The “restore” command extracts the data from a snapshot from the repository to a directory.
The special snapshot “latest” can be used to restore the latest snapshot in the repository.
Flags used by resticprofile only: Name Type Default Notes run-after one or more strings Run shell command(s) after a successful restic command run-after-fail one or more strings Run shell command(s) after failed restic or shell commands run-before one or more strings Run shell command(s) before a restic command run-finally one or more strings Run shell command(s) always, after all other commands Flags passed to the restic command line: Name Type Default Notes exclude one or more strings exclude a pattern host true / false OR one or more hostnames only consider snapshots for this host, when snapshot ID “latest” is given.</description></item><item><title>retention</title><link>https://creativeprojects.github.io/resticprofile/reference/profile/retention/index.html</link><pubDate>Sat, 06 Jul 2024 09:03:42 +0000</pubDate><guid>https://creativeprojects.github.io/resticprofile/reference/profile/retention/index.html</guid><description>Section profile.retention This section configures restic command forget . Information on command and flags is copied from the restic manual pages.
The “forget” command removes snapshots according to a policy. All snapshots are first divided into groups according to “–group-by”, and after that the policy specified by the “–keep-*” options is applied to each group individually.
Please note that this command really only deletes the snapshot object in the repository, which is a reference to data stored there.</description></item><item><title>rewrite</title><link>https://creativeprojects.github.io/resticprofile/reference/profile/rewrite/index.html</link><pubDate>Sat, 06 Jul 2024 09:03:42 +0000</pubDate><guid>https://creativeprojects.github.io/resticprofile/reference/profile/rewrite/index.html</guid><description>Section profile.rewrite This section configures restic command rewrite available since 0.15.0 . Information on command and flags is copied from the restic manual pages.
The “rewrite” command excludes files from existing snapshots. It creates new snapshots containing the same data as the original ones, but without the files you specify to exclude. All metadata (time, host, tags) will be preserved.
The snapshots to rewrite are specified using the –host, –tag and –path options, or by providing a list of snapshot IDs.</description></item><item><title>snapshots</title><link>https://creativeprojects.github.io/resticprofile/reference/profile/snapshots/index.html</link><pubDate>Sat, 06 Jul 2024 09:03:42 +0000</pubDate><guid>https://creativeprojects.github.io/resticprofile/reference/profile/snapshots/index.html</guid><description>Section profile.snapshots This section configures restic command snapshots . Information on command and flags is copied from the restic manual pages.
The “snapshots” command lists all snapshots stored in the repository.
Flags used by resticprofile only: Name Type Default Notes run-after one or more strings Run shell command(s) after a successful restic command run-after-fail one or more strings Run shell command(s) after failed restic or shell commands run-before one or more strings Run shell command(s) before a restic command run-finally one or more strings Run shell command(s) always, after all other commands Flags passed to the restic command line: Name Type Default Notes compact true / false false use compact output format group-by string group snapshots by host, paths and/or tags, separated by comma.</description></item><item><title>stats</title><link>https://creativeprojects.github.io/resticprofile/reference/profile/stats/index.html</link><pubDate>Sat, 06 Jul 2024 09:03:42 +0000</pubDate><guid>https://creativeprojects.github.io/resticprofile/reference/profile/stats/index.html</guid><description>Section profile.stats This section configures restic command stats . Information on command and flags is copied from the restic manual pages.
The “stats” command walks one or multiple snapshots in a repository and accumulates statistics about the data stored therein. It reports on the number of unique files and their sizes, according to one of the counting modes as given by the –mode flag.
It operates on all snapshots matching the selection criteria or all snapshots if nothing is specified.</description></item><item><title>tag</title><link>https://creativeprojects.github.io/resticprofile/reference/profile/tag/index.html</link><pubDate>Sat, 06 Jul 2024 09:03:42 +0000</pubDate><guid>https://creativeprojects.github.io/resticprofile/reference/profile/tag/index.html</guid><description>Section profile.tag This section configures restic command tag . Information on command and flags is copied from the restic manual pages.
The “tag” command allows you to modify tags on exiting snapshots.
You can either set/replace the entire set of tags on a snapshot, or add tags to/remove tags from the existing set.
When no snapshot-ID is given, all snapshots matching the host, tag and path filter criteria are modified.</description></item><item><title>unlock</title><link>https://creativeprojects.github.io/resticprofile/reference/profile/unlock/index.html</link><pubDate>Sat, 06 Jul 2024 09:03:42 +0000</pubDate><guid>https://creativeprojects.github.io/resticprofile/reference/profile/unlock/index.html</guid><description>Section profile.unlock This section configures restic command unlock . Information on command and flags is copied from the restic manual pages.
The “unlock” command removes stale locks that have been created by other restic processes.
Flags used by resticprofile only: Name Type Default Notes run-after one or more strings Run shell command(s) after a successful restic command run-after-fail one or more strings Run shell command(s) after failed restic or shell commands run-before one or more strings Run shell command(s) before a restic command run-finally one or more strings Run shell command(s) always, after all other commands Flags passed to the restic command line: Name Type Default Notes remove-all true / false false remove all locks, even non-stale ones Flags declared for the restic command line in section profile can be overridden in this section.</description></item></channel></rss>