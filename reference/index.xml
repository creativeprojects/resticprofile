<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Resticprofile configuration reference :: resticprofile</title><link>https://creativeprojects.github.io/resticprofile/reference/index.html</link><description>Note The configuration file reference is generated from resticprofile’s data model and restic’s manual pages.
Section global Section Profile backup cache cat check copy diff dump find forget init key key-add key-list key-passwd key-remove list ls migrate mount prune rebuild-index recover repair repair-index repair-packs repair-snapshots restore retention rewrite snapshots stats tag unlock Nested Sections ScheduleBaseConfig ScheduleConfig SendMonitoringHeader SendMonitoringSection StreamErrorSection Section Groups Value types JSON Schema</description><generator>Hugo</generator><language>en-gb</language><lastBuildDate>Sat, 09 Nov 2024 22:08:08 +0000</lastBuildDate><atom:link href="https://creativeprojects.github.io/resticprofile/reference/index.xml" rel="self" type="application/rss+xml"/><item><title>Section global</title><link>https://creativeprojects.github.io/resticprofile/reference/global/index.html</link><pubDate>Sat, 09 Nov 2024 22:08:08 +0000</pubDate><guid>https://creativeprojects.github.io/resticprofile/reference/global/index.html</guid><description>Section global The global section is at the root of the configuration file and contains the global settings for resticprofile.
Name Type Default Notes ca-certificates one or more strings Path to PEM encoded certificates to trust in addition to system certificates when resticprofile sends to a webhook - see configuration/http_hooks/ command-output string auto Sets the destination for command output (stderr/stdout). “log” sends output to the log file (if specified), “console” sends it to the console instead. “auto” sends it to “both” if console is a terminal otherwise to “log” only - see configuration/logs/. Is one of auto, log, console, all default-command string snapshots The restic or resticprofile command to use when no command was specified. Examples: backup, cache, cat, check, copy, diff, dump, find, forget, generate, init, key, key-add, key-list, key-passwd, key-remove, list, ls, migrate, mount, prune, rebuild-index, recover, repair, repair-index, repair-packs, repair-snapshots, restore, rewrite, self-update, snapshots, stats, tag, unlock, version group-continue-on-error true / false false Enable groups to continue with the next profile(s) instead of stopping at the first failure initialize true / false false Initialize a repository if missing ionice true / false false Enables setting the linux IO priority class and level for resticprofile and child processes (only on linux OS) ionice-class integer 2 Sets the linux “ionice-class” (I/O scheduling class) to apply when “ionice” is enabled (1=realtime, 2=best-effort, 3=idle). Must be >= 1 and &lt;= 3 ionice-level integer 0 Sets the linux “ionice-level” (I/O priority within the scheduling class) to apply when “ionice” is enabled (0=highest priority, 7=lowest priority). Must be >= 0 and &lt;= 7 legacy-arguments true / false false Legacy, broken arguments mode of resticprofile before version 0.15 log string Sets the default log destination to be used if not specified in “–log” or “schedule-log” - see configuration/logs/. Examples: /resticprofile.log, syslog-tcp://syslog-server:514, syslog:server, syslog: min-memory integer 100 Minimum available memory (in MB) required to run any commands - see usage/memory/ nice integer 0 Sets the unix “nice” value for resticprofile and child processes (on any OS). Must be >= -20 and &lt;= 19 prevent-auto-repository-file true / false false Prevents using a repository file for repository definitions containing a password prevent-sleep true / false false Prevent the system from sleeping while running commands - see configuration/sleep/ priority string normal Sets process priority class for resticprofile and child processes (on any OS). Is one of idle, background, low, normal, high, highest restic-arguments-filter true / false true Remove unknown flags instead of passing all configured flags to restic restic-binary string Full path of the restic executable (detected if not set) restic-lock-retry-after integer OR duration 1m Time to wait before trying to get a lock on a restic repository - see usage/locks/ restic-stale-lock-age integer OR duration 1h The age an unused lock on a restic repository must have at least before resticprofile attempts to unlock - see usage/locks/ restic-version string Sets the restic version (detected if not set) schedule-defaults nested ScheduleBaseConfig Sets defaults for all schedules scheduler string auto Selects the scheduler. Blank or “auto” uses the default scheduler of your operating system: “launchd”, “systemd”, “taskscheduler” or “crond” (as fallback). Alternatively you can set “crond” for cron compatible schedulers supporting the crontab executable API or “crontab:[user:]file” to write into a crontab file directly. The need for a user is detected if missing and can be set to a name, “-” (no user) or “*” (current user). Examples: auto, launchd, systemd, taskscheduler, crond, crond:/usr/bin/crontab, crontab:*:/etc/cron.d/resticprofile send-timeout integer OR duration 30s Timeout when sending messages to a webhook - see configuration/http_hooks/. Examples: 15s, 30s, 2m30s shell one or more strings auto The shell that is used to run commands (default is OS specific). Examples: sh, bash, pwsh, powershell, cmd systemd-timer-template string File containing the go template to generate a systemd timer - see schedules/systemd/ systemd-unit-template string File containing the go template to generate a systemd unit - see schedules/systemd/</description></item><item><title>Section Profile</title><link>https://creativeprojects.github.io/resticprofile/reference/profile/index.html</link><pubDate>Sat, 09 Nov 2024 22:08:08 +0000</pubDate><guid>https://creativeprojects.github.io/resticprofile/reference/profile/index.html</guid><description>Profile sections In config file format v1, the name of this section is the name of your profile (excluding reserved names like global, groups, includes &amp; version).
From config file format v2, profile sections are declared as named configuration structure below section profiles (see Configuration v2 for details).
Section profile Flags used by resticprofile only: Name Type Default Notes base-dir string Sets the working directory for this profile. The profile will fail when the working directory cannot be changed. Leave empty to use the current directory instead description string Describes the profile env key => value Additional environment variables to set in any child process. Inline env variables take precedence over dotenv files declared with “env-file” env-file one or more strings Additional dotenv files to load and set as environment in any child process force-inactive-lock true / false false Allows to lock when the existing lock is considered stale inherit string Name of the profile to inherit all of the settings from initialize true / false Initialize the restic repository if missing lock string Path to the lock file to use with resticprofile locks prometheus-labels key => string Additional prometheus labels to set prometheus-push uri URL of the prometheus push gateway to send the summary of the last restic command result to prometheus-push-format string text Prometheus push gateway request format. Is one of text, protobuf prometheus-push-job string Prometheus push gateway job name. $command placeholder is replaced with restic command prometheus-save-to-file string Path to the prometheus metrics file to update with a summary of the last restic command result run-after one or more strings Run shell command(s) after a successful restic command run-after-fail one or more strings Run shell command(s) after failed restic or shell commands run-before one or more strings Run shell command(s) before a restic command run-finally one or more strings Run shell command(s) always, after all other commands status-file string Path to the status file to update with a summary of last restic command result stream-error one or more nested StreamErrorSection Run shell command(s) when a pattern matches the stderr of restic systemd-drop-in-files one or more strings Files containing systemd drop-in (override) files - see schedules/systemd/ Flags passed to the restic command line: Name Type Default Notes cacert string file to load root certificates from (default: use system certificates or $RESTIC_CACERT) cache-dir string "" set the cache directory. (default: use system default cache directory) cleanup-cache true / false false auto remove old cache directories compression string auto compression mode (only available for repository format version 2), one of (auto/off/max) (default: $RESTIC_COMPRESSION). restic >= 0.14.0 extended-status true / false false set output mode to JSON for commands that support it http-user-agent string "" set a http user agent for outgoing http requests. restic >= 0.17.0 insecure-no-password true / false false use an empty password for the repository, must be passed to every restic command (insecure). restic >= 0.17.0 insecure-tls true / false false skip TLS certificate verification when connecting to the repository (insecure). restic >= 0.13.0 key-hint string "" key ID of key to try decrypting first (default: $RESTIC_KEY_HINT) limit-download integer 0 limits downloads to a maximum rate in KiB/s. (default: unlimited) limit-upload integer 0 limits uploads to a maximum rate in KiB/s. (default: unlimited) no-cache true / false false do not use a local cache no-extra-verify true / false false skip additional verification of data before upload (see documentation). restic >= 0.16.4 no-lock true / false false do not lock the repository, this allows some operations on read-only repositories option one or more strings set extended option (key=value) pack-size integer 0 set target pack size in MiB, created pack files may be larger (default: $RESTIC_PACK_SIZE). restic >= 0.14.0 password-command string "" shell command to obtain the repository password from (default: $RESTIC_PASSWORD_COMMAND) password-file string "" file to read the repository password from (default: $RESTIC_PASSWORD_FILE) quiet true / false false do not output comprehensive progress report repository string "" repository to backup to or restore from (default: $RESTIC_REPOSITORY) repository-file string "" file to read the repository location from (default: $RESTIC_REPOSITORY_FILE). restic >= 0.11.0 retry-lock string 0s retry to lock the repository if it is already locked, takes a value like 5m or 2h (default: no retries). restic >= 0.16.0 tls-client-cert string "" path to a file containing PEM encoded TLS client certificate and private key (default: $RESTIC_TLS_CLIENT_CERT) verbose true / false OR integer 0 be verbose (true for level 1 or a number for increased verbosity, max level is 2) Note Most restic command flags defined in profile sections below can also be set at profile level. They will be inherited in all sections that define these flags and ignored in all others.</description></item><item><title>Nested Sections</title><link>https://creativeprojects.github.io/resticprofile/reference/nested/index.html</link><pubDate>Sat, 09 Nov 2024 22:08:08 +0000</pubDate><guid>https://creativeprojects.github.io/resticprofile/reference/nested/index.html</guid><description>Nested profile sections Nested sections describe configuration structure that is assigned to flags within the configuration, see HTTP Hooks as an example.
ScheduleBaseConfig ScheduleConfig SendMonitoringHeader SendMonitoringSection StreamErrorSection</description></item><item><title>Section Groups</title><link>https://creativeprojects.github.io/resticprofile/reference/groups/index.html</link><pubDate>Sat, 09 Nov 2024 22:08:08 +0000</pubDate><guid>https://creativeprojects.github.io/resticprofile/reference/groups/index.html</guid><description>Section groups Config file format v1 uses a simplified groups section. Every named item below groups maps to one or more profile names (list of strings).
From file format v2, every named item in the groups section is configuration structure following the format described below (see Configuration v2 for details):
Name Type Default Notes continue-on-error true / false auto Continue with the next profile on a failure, overrides “global.group-continue-on-error” description string Describe the group profiles one or more strings Names of the profiles belonging to this group schedules key => nested ScheduleConfig Allows to run the group on schedule for the specified command name (backup, copy, check, forget, prune)</description></item><item><title>Value types</title><link>https://creativeprojects.github.io/resticprofile/reference/value-types/index.html</link><pubDate>Sat, 09 Nov 2024 22:08:08 +0000</pubDate><guid>https://creativeprojects.github.io/resticprofile/reference/value-types/index.html</guid><description>Type: true / false Is a boolean value to toggle a flag or specific behaviour that has to match the syntax for booleans in the used file format. Type: numeric &amp; integer Is a numeric value (whole-number for integer) that has to match the syntax for numbers in the used file format. Type: string Is a sequence of UTF-8 characters that usually have to be placed in quotes and must match the syntax for strings in the used file format. Type: duration A duration string is a sequence of decimal numbers, each with optional fraction and a unit suffix, such as “300ms”, “-1.5h” or “2h45m”. Valid time units are “ns”, “us” (or “µs”), “ms”, “s”, “m”, “h”. Type: uri An uri string must be a valid URI or URL. Type: hostname A hostname string must be a valid hostname or FQDN. Type: one or more [type]s Indicates that multiple values of [type] can be specified as a list. The list syntax depends on the used file format. Type: one or more nested [type] Is a value or a list of values that follow the configuration structure declared in [type]. Type: key => [type] Is a value that is configuration structure of string keys and values of [type]. Type: key => value Is a value that is configuration structure of string keys and values of any type.</description></item><item><title>JSON Schema</title><link>https://creativeprojects.github.io/resticprofile/reference/json-schema/index.html</link><pubDate>Sat, 09 Nov 2024 22:08:08 +0000</pubDate><guid>https://creativeprojects.github.io/resticprofile/reference/json-schema/index.html</guid><description>resticprofile provides a JSON schema for v1 &amp; v2 configuration files. The schema may be used to validate configuration files in JSON format (and possibly others), see JSON schema for details.
JSON schema URLs for any restic version:
Config V1: https://creativeprojects.github.io/resticprofile/jsonschema/config-1.json Config V2: https://creativeprojects.github.io/resticprofile/jsonschema/config-2.json JSON schema URLs for a specific restic version:
.../config-1-restic-{MAJOR}-{MINOR}.json .../config-2-restic-{MAJOR}-{MINOR}.json Available URLs:
https://creativeprojects.github.io/resticprofile/jsonschema/config-2-restic-0-17.json https://creativeprojects.github.io/resticprofile/jsonschema/config-1-restic-0-17.json https://creativeprojects.github.io/resticprofile/jsonschema/config-2-restic-0-16.json https://creativeprojects.github.io/resticprofile/jsonschema/config-1-restic-0-16.json https://creativeprojects.github.io/resticprofile/jsonschema/config-2-restic-0-16.json https://creativeprojects.github.io/resticprofile/jsonschema/config-1-restic-0-16.json https://creativeprojects.github.io/resticprofile/jsonschema/config-2-restic-0-16.json https://creativeprojects.github.io/resticprofile/jsonschema/config-1-restic-0-16.json https://creativeprojects.github.io/resticprofile/jsonschema/config-2-restic-0-15.json https://creativeprojects.github.io/resticprofile/jsonschema/config-1-restic-0-15.json https://creativeprojects.github.io/resticprofile/jsonschema/config-2-restic-0-14.json https://creativeprojects.github.io/resticprofile/jsonschema/config-1-restic-0-14.json https://creativeprojects.github.io/resticprofile/jsonschema/config-2-restic-0-13.json https://creativeprojects.github.io/resticprofile/jsonschema/config-1-restic-0-13.json https://creativeprojects.github.io/resticprofile/jsonschema/config-2-restic-0-12.json https://creativeprojects.github.io/resticprofile/jsonschema/config-1-restic-0-12.json https://creativeprojects.github.io/resticprofile/jsonschema/config-2-restic-0-11.json https://creativeprojects.github.io/resticprofile/jsonschema/config-1-restic-0-11.json https://creativeprojects.github.io/resticprofile/jsonschema/config-2-restic-0-10.json https://creativeprojects.github.io/resticprofile/jsonschema/config-1-restic-0-10.json https://creativeprojects.github.io/resticprofile/jsonschema/config-2-restic-0-9.json https://creativeprojects.github.io/resticprofile/jsonschema/config-1-restic-0-9.json</description></item></channel></rss>