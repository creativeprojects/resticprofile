<!doctype html><html lang=en-gb dir=ltr itemscope itemtype=http://schema.org/Article data-r-output-format=html><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.145.0"><meta name=generator content="Relearn 7.6.1"><meta name=description content='v0.32.0 (2025-09-26) 🍁 Autumn release 🍂 This release brings significant improvements to scheduling, HTTP hooks, configuration handling, and copy operations, along with important bug fixes and dependency updates.
New Features Enhanced Copy Command Support Copy from repository: Added support for specifying source repositories in copy operations with new from-repository, from-password-file, from-password-command, and other from-* configuration options. This enables more flexible backup copying workflows between different repositories. Improved Windows Task Scheduler Integration Run Level Control: New schedule-run-level option allows setting task privilege levels (lowest, highest, auto) for Windows Task Scheduler. Hide Window Option: New schedule-hide-window option to prevent task windows from interrupting user activity when running with user_logged_on permission. Enhanced Task Management: Completely rewritten task information parsing to fix issues with spaces in filenames. Template Function Enhancements Random Number Generation: New randInt template function for generating pseudo-random numbers with seeded repeatability. Usage: {{ "seed" | randInt low high }} - useful for creating variable schedules or unique identifiers. HTTP Hooks Improvements URL Encoding: Automatic URL encoding applied to ERROR, ERROR_COMMANDLINE, and ERROR_STDERR environment variables when used in URLs. Environment Variable Resolution: Enhanced environment variable resolution in both URL and body of HTTP hooks, with proper separation of URL and body processing. Bug Fixes and Improvements Signal Handling Group Execution: Fixed interrupt signal handling to properly stop execution of remaining profiles in a group when Ctrl+C is pressed. Path Resolution Executable Handling: Enhanced executable path resolution on Linux to properly handle relative paths, PATH lookups, and working directory resolution. Configuration Escaping: Fixed proper escaping of backup source paths in configuration to handle special characters and spaces. Scheduling Fixes Crontab Generation: Fixed crontab file generation to work without user field, improving compatibility with various cron implementations. New contributors Thanks to @lil5, @jeinwag, @hansmi and @zumm for their valuable help in making this new release 🎉'><meta name=author content><meta name=twitter:card content="summary"><meta name=twitter:title content="Release Notes :: resticprofile"><meta name=twitter:description content='v0.32.0 (2025-09-26) 🍁 Autumn release 🍂 This release brings significant improvements to scheduling, HTTP hooks, configuration handling, and copy operations, along with important bug fixes and dependency updates.
New Features Enhanced Copy Command Support Copy from repository: Added support for specifying source repositories in copy operations with new from-repository, from-password-file, from-password-command, and other from-* configuration options. This enables more flexible backup copying workflows between different repositories. Improved Windows Task Scheduler Integration Run Level Control: New schedule-run-level option allows setting task privilege levels (lowest, highest, auto) for Windows Task Scheduler. Hide Window Option: New schedule-hide-window option to prevent task windows from interrupting user activity when running with user_logged_on permission. Enhanced Task Management: Completely rewritten task information parsing to fix issues with spaces in filenames. Template Function Enhancements Random Number Generation: New randInt template function for generating pseudo-random numbers with seeded repeatability. Usage: {{ "seed" | randInt low high }} - useful for creating variable schedules or unique identifiers. HTTP Hooks Improvements URL Encoding: Automatic URL encoding applied to ERROR, ERROR_COMMANDLINE, and ERROR_STDERR environment variables when used in URLs. Environment Variable Resolution: Enhanced environment variable resolution in both URL and body of HTTP hooks, with proper separation of URL and body processing. Bug Fixes and Improvements Signal Handling Group Execution: Fixed interrupt signal handling to properly stop execution of remaining profiles in a group when Ctrl+C is pressed. Path Resolution Executable Handling: Enhanced executable path resolution on Linux to properly handle relative paths, PATH lookups, and working directory resolution. Configuration Escaping: Fixed proper escaping of backup source paths in configuration to handle special characters and spaces. Scheduling Fixes Crontab Generation: Fixed crontab file generation to work without user field, improving compatibility with various cron implementations. New contributors Thanks to @lil5, @jeinwag, @hansmi and @zumm for their valuable help in making this new release 🎉'><meta property="og:url" content="https://creativeprojects.github.io/resticprofile/changelog/index.html"><meta property="og:site_name" content="resticprofile"><meta property="og:title" content="Release Notes :: resticprofile"><meta property="og:description" content='v0.32.0 (2025-09-26) 🍁 Autumn release 🍂 This release brings significant improvements to scheduling, HTTP hooks, configuration handling, and copy operations, along with important bug fixes and dependency updates.
New Features Enhanced Copy Command Support Copy from repository: Added support for specifying source repositories in copy operations with new from-repository, from-password-file, from-password-command, and other from-* configuration options. This enables more flexible backup copying workflows between different repositories. Improved Windows Task Scheduler Integration Run Level Control: New schedule-run-level option allows setting task privilege levels (lowest, highest, auto) for Windows Task Scheduler. Hide Window Option: New schedule-hide-window option to prevent task windows from interrupting user activity when running with user_logged_on permission. Enhanced Task Management: Completely rewritten task information parsing to fix issues with spaces in filenames. Template Function Enhancements Random Number Generation: New randInt template function for generating pseudo-random numbers with seeded repeatability. Usage: {{ "seed" | randInt low high }} - useful for creating variable schedules or unique identifiers. HTTP Hooks Improvements URL Encoding: Automatic URL encoding applied to ERROR, ERROR_COMMANDLINE, and ERROR_STDERR environment variables when used in URLs. Environment Variable Resolution: Enhanced environment variable resolution in both URL and body of HTTP hooks, with proper separation of URL and body processing. Bug Fixes and Improvements Signal Handling Group Execution: Fixed interrupt signal handling to properly stop execution of remaining profiles in a group when Ctrl+C is pressed. Path Resolution Executable Handling: Enhanced executable path resolution on Linux to properly handle relative paths, PATH lookups, and working directory resolution. Configuration Escaping: Fixed proper escaping of backup source paths in configuration to handle special characters and spaces. Scheduling Fixes Crontab Generation: Fixed crontab file generation to work without user field, improving compatibility with various cron implementations. New contributors Thanks to @lil5, @jeinwag, @hansmi and @zumm for their valuable help in making this new release 🎉'><meta property="og:locale" content="en_gb"><meta property="og:type" content="article"><meta property="article:section" content="resticprofile"><meta itemprop=name content="Release Notes :: resticprofile"><meta itemprop=description content='v0.32.0 (2025-09-26) 🍁 Autumn release 🍂 This release brings significant improvements to scheduling, HTTP hooks, configuration handling, and copy operations, along with important bug fixes and dependency updates.
New Features Enhanced Copy Command Support Copy from repository: Added support for specifying source repositories in copy operations with new from-repository, from-password-file, from-password-command, and other from-* configuration options. This enables more flexible backup copying workflows between different repositories. Improved Windows Task Scheduler Integration Run Level Control: New schedule-run-level option allows setting task privilege levels (lowest, highest, auto) for Windows Task Scheduler. Hide Window Option: New schedule-hide-window option to prevent task windows from interrupting user activity when running with user_logged_on permission. Enhanced Task Management: Completely rewritten task information parsing to fix issues with spaces in filenames. Template Function Enhancements Random Number Generation: New randInt template function for generating pseudo-random numbers with seeded repeatability. Usage: {{ "seed" | randInt low high }} - useful for creating variable schedules or unique identifiers. HTTP Hooks Improvements URL Encoding: Automatic URL encoding applied to ERROR, ERROR_COMMANDLINE, and ERROR_STDERR environment variables when used in URLs. Environment Variable Resolution: Enhanced environment variable resolution in both URL and body of HTTP hooks, with proper separation of URL and body processing. Bug Fixes and Improvements Signal Handling Group Execution: Fixed interrupt signal handling to properly stop execution of remaining profiles in a group when Ctrl+C is pressed. Path Resolution Executable Handling: Enhanced executable path resolution on Linux to properly handle relative paths, PATH lookups, and working directory resolution. Configuration Escaping: Fixed proper escaping of backup source paths in configuration to handle special characters and spaces. Scheduling Fixes Crontab Generation: Fixed crontab file generation to work without user field, improving compatibility with various cron implementations. New contributors Thanks to @lil5, @jeinwag, @hansmi and @zumm for their valuable help in making this new release 🎉'><meta itemprop=wordCount content="6063"><title>Release Notes :: resticprofile</title>
<link href=https://creativeprojects.github.io/resticprofile/images/logo.png?1758895522 rel=icon type=image/png><link href=https://creativeprojects.github.io/resticprofile/fonts/fontawesome/css/fontawesome-all.min.css?1758895522 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=https://creativeprojects.github.io/resticprofile/fonts/fontawesome/css/fontawesome-all.min.css?1758895522 rel=stylesheet></noscript><link href=https://creativeprojects.github.io/resticprofile/css/perfect-scrollbar/perfect-scrollbar.min.css?1758895522 rel=stylesheet><link href=https://creativeprojects.github.io/resticprofile/css/theme.min.css?1758895522 rel=stylesheet><link href=https://creativeprojects.github.io/resticprofile/css/format-html.min.css?1758895522 rel=stylesheet id=R-format-style><link href=https://creativeprojects.github.io/resticprofile/css/auto-complete/auto-complete.min.css?1758895522 rel=stylesheet><script src=https://creativeprojects.github.io/resticprofile/js/auto-complete/auto-complete.min.js?1758895522 defer></script><script src=https://creativeprojects.github.io/resticprofile/js/lunr/lunr.min.js?1758895522 defer></script><script src=https://creativeprojects.github.io/resticprofile/js/lunr/lunr.stemmer.support.min.js?1758895522 defer></script><script src=https://creativeprojects.github.io/resticprofile/js/lunr/lunr.multi.min.js?1758895522 defer></script><script src=https://creativeprojects.github.io/resticprofile/js/lunr/lunr.en.min.js?1758895522 defer></script><script src=https://creativeprojects.github.io/resticprofile/js/search.min.js?1758895522 defer></script><script>window.relearn=window.relearn||{},window.relearn.min=`.min`,window.relearn.path="/changelog/index.html",window.relearn.relBasePath="..",window.relearn.relBaseUri="..",window.relearn.absBaseUri="https://creativeprojects.github.io/resticprofile",window.relearn.contentLangs=["en"],window.relearn.index_js_url="https://creativeprojects.github.io/resticprofile/searchindex.en.js?1758895522",window.relearn.disableAnchorCopy=!1,window.relearn.disableAnchorScrolling=!1,window.relearn.disableInlineCopyToClipboard=!1,window.relearn.enableBlockCodeWrap=!0,window.relearn.getItem=(e,t)=>e.getItem(t),window.relearn.setItem=(e,t,n)=>e.setItem(t,n),window.relearn.removeItem=(e,t)=>e.removeItem(t),window.relearn.themevariants=["relearn-auto","relearn-light","relearn-dark"],window.relearn.customvariantname="my-custom-variant",window.relearn.changeVariant=function(e){var t=document.documentElement.dataset.rThemeVariant;window.relearn.setItem(window.localStorage,window.relearn.absBaseUri+"/variant",e),document.documentElement.dataset.rThemeVariant=e,t!=e&&(document.dispatchEvent(new CustomEvent("themeVariantLoaded",{detail:{variant:e,oldVariant:t}})),window.relearn.markVariant())},window.relearn.markVariant=function(){var e=window.relearn.getItem(window.localStorage,window.relearn.absBaseUri+"/variant");document.querySelectorAll(".R-variantswitcher select").forEach(t=>{t.value=e})},window.relearn.initVariant=function(){var e=window.relearn.getItem(window.localStorage,window.relearn.absBaseUri+"/variant")??"";e==window.relearn.customvariantname||(!e||!window.relearn.themevariants.includes(e))&&(e=window.relearn.themevariants[0],window.relearn.setItem(window.localStorage,window.relearn.absBaseUri+"/variant",e)),document.documentElement.dataset.rThemeVariant=e},window.relearn.initVariant(),window.relearn.markVariant(),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`</script></head><body class="mobile-support html" data-url=https://creativeprojects.github.io/resticprofile/changelog/index.html><div id=R-body class=default-animation><div id=R-body-overlay></div><nav id=R-topbar><div class=topbar-wrapper><div class=topbar-sidebar-divider></div><div class="topbar-area topbar-area-start" data-area=start><div class="topbar-button topbar-button-sidebar" data-content-empty=disable data-width-s=show data-width-m=hide data-width-l=hide><button class=topbar-control onclick=toggleNav() type=button title="Menu (CTRL+ALT+n)"><i class="fa-fw fas fa-bars"></i></button></div><div class="topbar-button topbar-button-toc" data-content-empty=hide data-width-s=show data-width-m=show data-width-l=show><button class=topbar-control onclick=toggleTopbarFlyout(this) type=button title="Table of Contents (CTRL+ALT+t)"><i class="fa-fw fas fa-list-alt"></i></button><div class=topbar-content><div class=topbar-content-wrapper><nav class=TableOfContents><ul><li><a href=#-autumn-release->🍁 Autumn release 🍂</a><ul><li><a href=#new-features>New Features</a></li><li><a href=#bug-fixes-and-improvements>Bug Fixes and Improvements</a></li></ul></li><li><a href=#new-contributors>New contributors</a></li><li><a href=#changelog>Changelog</a></li></ul><ul><li><a href=#-spring-bank-holiday-release->🍸 Spring Bank Holiday release 🌞</a><ul><li><a href=#improvements>Improvements:</a></li><li><a href=#bug-fixes>Bug fixes:</a></li></ul></li><li><a href=#changelog-1>Changelog</a></li></ul><ul><li><a href=#-bug-fix-release->🐛 Bug fix release 🐞</a></li><li><a href=#changelog-2>Changelog</a></li></ul><ul><li><a href=#-spring-release->🌱 Spring release 🌸</a><ul><li><a href=#-breaking-change>⚠️ Breaking change</a></li><li><a href=#scheduler>Scheduler</a></li><li><a href=#other>Other</a></li></ul></li><li><a href=#changelog-3>Changelog</a></li></ul><ul><li><a href=#--small-maintenance-release->❄️ Small maintenance release ☃️</a></li><li><a href=#changelog-4>Changelog</a></li></ul><ul><li><a href=#--halloween-edition->🧙🏻‍♀️ Halloween edition 🎃</a></li><li><a href=#changelog-5>Changelog</a></li></ul><ul><li><a href=#-autumn-bug-fixing->🍂 Autumn bug fixing 🍁</a></li><li><a href=#changelog-6>Changelog</a></li></ul><ul><li><a href=#--sunny-summer-edition->🌞 Sunny Summer Edition 🌻</a><ul><li><a href=#example-of-using-environment-variables-in-configuration>Example of using environment variables in configuration:</a></li></ul></li><li><a href=#changelog-7>Changelog</a></li></ul><ul><li><a href=#-rainy-summer-edition->🌦️ Rainy Summer Edition ☔</a></li><li><a href=#changelog-8>Changelog</a></li></ul><ul><li><a href=#-summer-release->🌻 Summer release 🌞</a><ul><li><a href=#new-run-schedule-command>new run-schedule command</a></li><li><a href=#direct-support-for-crontab-files>direct support for crontab files</a></li><li><a href=#keep-content-of-configuration-variables-between-commands>keep content of configuration variables between commands</a></li><li><a href=#resticprofile_flagname-env-vars>&ldquo;RESTICPROFILE_{FLAGNAME}&rdquo; env vars</a></li><li><a href=#allow-controlling-command-output-redirection>allow controlling command output redirection</a></li><li><a href=#add-stderr-to-redirect-console-to-stderr-for-cat-and-dump>Add &ldquo;&ndash;stderr&rdquo; to redirect console to stderr (for &ldquo;cat&rdquo; and &ldquo;dump&rdquo;)</a></li><li><a href=#add-option-to-set-working-directory-for-restic-backup>Add option to set working directory for restic backup</a></li><li><a href=#many-bug-fixes>many bug fixes!</a></li></ul></li><li><a href=#changelog-9>Changelog</a></li></ul><ul><li><a href=#-second-time-lucky-february-release->🦆 Second time lucky February release 🚀</a></li><li><a href=#changelog-10>Changelog</a></li></ul><ul><li><a href=#-february-release->💖 February release 💝</a><ul><li><a href=#-potential-breaking-change>⚠️ Potential breaking change</a></li></ul></li><li><a href=#new-in-this-version>New in this version</a></li><li><a href=#changelog-11>Changelog</a></li></ul><ul><li><a href=#-october-release->🎃 October release 👻</a></li><li><a href=#changelog-12>Changelog</a></li></ul><ul><li><a href=#-new-summer-edition->🌞 New summer edition 🌻</a></li><li><a href=#changelog-13>Changelog</a></li></ul><ul><li><a href=#--breaking-change>⚠️ Breaking change</a></li><li><a href=#fixes>Fixes:</a></li><li><a href=#changelog-14>Changelog</a></li></ul><ul><li><a href=#bug-fixes-1>Bug fixes!</a></li><li><a href=#new-features-from-v0210>New features from <code>v0.21.0</code></a></li><li><a href=#changelog-15>Changelog</a></li></ul><ul><li><ul><li><a href=#this-is-a-great-milestone-for-resticprofile->This is a great milestone for resticprofile 🥳</a></li></ul></li><li><a href=#changelog-16>Changelog</a></li></ul><ul><li><a href=#improvements-1>Improvements</a></li><li><a href=#changelog-17>Changelog</a></li></ul><ul><li><a href=#new-version-0190-of-resticprofile>New version 0.19.0 of resticprofile!</a></li><li><a href=#changelog-18>Changelog</a></li></ul><ul><li><a href=#changelog-19>Changelog</a></li></ul><ul><li><a href=#here-it-is>Here it is!</a></li><li><a href=#changelog-20>Changelog</a></li></ul><ul><li><a href=#changelog-21>Changelog</a></li></ul><ul><li><a href=#changelog-22>Changelog</a></li><li><a href=#docker-images>Docker images</a></li></ul><ul><li><a href=#-important>⚠️ Important</a></li><li><a href=#new-features-in-015>New features in 0.15:</a></li><li><a href=#this-version-also-includes-fixes-for>This version also includes fixes for:</a></li><li><a href=#changelog-23>Changelog</a></li><li><a href=#docker-images-1>Docker images</a></li></ul><ul><li><a href=#bug-fix-release>Bug fix release</a></li><li><a href=#changelog-24>Changelog</a></li><li><a href=#docker-images-2>Docker images</a></li></ul><ul><li><a href=#release-0140>Release 0.14.0</a></li><li><a href=#changelog-25>Changelog</a></li><li><a href=#docker-images-3>Docker images</a></li></ul><ul><li><a href=#changelog-26>Changelog</a></li><li><a href=#docker-images-4>Docker images</a></li></ul><ul><li><a href=#changelog-27>Changelog</a></li><li><a href=#docker-images-5>Docker images</a></li></ul><ul><li><a href=#changelog-28>Changelog</a></li><li><a href=#docker-images-6>Docker images</a></li></ul><ul><li><a href=#changelog-29>Changelog</a></li><li><a href=#docker-images-7>Docker images</a></li></ul><ul><li><a href=#highlights>Highlights:</a></li><li><a href=#deprecation>Deprecation</a></li><li><a href=#changelog-30>Changelog</a></li><li><a href=#docker-images-8>Docker images</a></li></ul><ul><li><a href=#changelog-31>Changelog</a></li></ul><ul><li><a href=#changelog-32>Changelog</a></li></ul><ul><li><a href=#changelog-33>Changelog</a></li></ul><ul><li><a href=#changelog-34>Changelog</a></li></ul><ul><li><a href=#changelog-35>Changelog</a></li></ul><ul><li><a href=#changelog-36>Changelog</a></li></ul><ul><li><a href=#changelog-37>Changelog</a></li></ul><ul><li><a href=#changelog-38>Changelog</a></li></ul><ul><li><a href=#changelog-39>Changelog</a></li></ul><ul><li><a href=#changelog-40>Changelog</a></li></ul><ul><li><a href=#changelog-41>Changelog</a></li></ul><ul><li><a href=#changelog-42>Changelog</a></li></ul></nav></div></div></div></div><ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype=http://schema.org/BreadcrumbList><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=https://creativeprojects.github.io/resticprofile/index.html><span itemprop=name>resticprofile</span></a><meta itemprop=position content="1">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><span itemprop=name>Release Notes</span><meta itemprop=position content="2"></li></ol><div class="topbar-area topbar-area-end" data-area=end><div class="topbar-button topbar-button-prev" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><a class=topbar-control href=https://creativeprojects.github.io/resticprofile/contributions/index.html title="Contributions (🡐)"><i class="fa-fw fas fa-chevron-left"></i></a></div><div class="topbar-button topbar-button-next" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><span class=topbar-control><i class="fa-fw fas fa-chevron-right"></i></span></div><div class="topbar-button topbar-button-more" data-content-empty=hide data-width-s=show data-width-m=show data-width-l=show><button class=topbar-control onclick=toggleTopbarFlyout(this) type=button title=More><i class="fa-fw fas fa-ellipsis-v"></i></button><div class=topbar-content><div class=topbar-content-wrapper><div class="topbar-area topbar-area-more" data-area=more></div></div></div></div></div></div></nav><div id=R-main-overlay></div><main id=R-body-inner class="highlightable page" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=release-notes>Release Notes</h1><h1 id=v0320-2025-09-26>v0.32.0 (2025-09-26)</h1><h2 id=-autumn-release->🍁 Autumn release 🍂</h2><p>This release brings significant improvements to scheduling, HTTP hooks, configuration handling, and copy operations, along with important bug fixes and dependency updates.</p><h3 id=new-features>New Features</h3><h4 id=enhanced-copy-command-support>Enhanced Copy Command Support</h4><ul><li><strong>Copy from repository</strong>: Added support for specifying source repositories in copy operations with new <code>from-repository</code>, <code>from-password-file</code>, <code>from-password-command</code>, and other <code>from-*</code> configuration options.</li><li>This enables more flexible backup copying workflows between different repositories.</li></ul><h4 id=improved-windows-task-scheduler-integration>Improved Windows Task Scheduler Integration</h4><ul><li><strong>Run Level Control</strong>: New <code>schedule-run-level</code> option allows setting task privilege levels (<code>lowest</code>, <code>highest</code>, <code>auto</code>) for Windows Task Scheduler.</li><li><strong>Hide Window Option</strong>: New <code>schedule-hide-window</code> option to prevent task windows from interrupting user activity when running with <code>user_logged_on</code> permission.</li><li><strong>Enhanced Task Management</strong>: Completely rewritten task information parsing to fix issues with spaces in filenames.</li></ul><h4 id=template-function-enhancements>Template Function Enhancements</h4><ul><li><strong>Random Number Generation</strong>: New <code>randInt</code> template function for generating pseudo-random numbers with seeded repeatability.</li><li>Usage: <code>{{ "seed" | randInt low high }}</code> - useful for creating variable schedules or unique identifiers.</li></ul><h4 id=http-hooks-improvements>HTTP Hooks Improvements</h4><ul><li><strong>URL Encoding</strong>: Automatic URL encoding applied to <code>ERROR</code>, <code>ERROR_COMMANDLINE</code>, and <code>ERROR_STDERR</code> environment variables when used in URLs.</li><li><strong>Environment Variable Resolution</strong>: Enhanced environment variable resolution in both URL and body of HTTP hooks, with proper separation of URL and body processing.</li></ul><h3 id=bug-fixes-and-improvements>Bug Fixes and Improvements</h3><h4 id=signal-handling>Signal Handling</h4><ul><li><strong>Group Execution</strong>: Fixed interrupt signal handling to properly stop execution of remaining profiles in a group when Ctrl+C is pressed.</li></ul><h4 id=path-resolution>Path Resolution</h4><ul><li><strong>Executable Handling</strong>: Enhanced executable path resolution on Linux to properly handle relative paths, PATH lookups, and working directory resolution.</li><li><strong>Configuration Escaping</strong>: Fixed proper escaping of backup source paths in configuration to handle special characters and spaces.</li></ul><h4 id=scheduling-fixes>Scheduling Fixes</h4><ul><li><strong>Crontab Generation</strong>: Fixed crontab file generation to work without user field, improving compatibility with various cron implementations.</li></ul><h2 id=new-contributors>New contributors</h2><p>Thanks to @lil5, @jeinwag, @hansmi and @zumm for their valuable help in making this new release 🎉</p><h2 id=changelog>Changelog</h2><ul><li><a href=https://github.com/creativeprojects/resticprofile/commit/c7e87a13cb9c547ab7f330c560cdd7a495c887bb rel=external target=_blank>Add &ldquo;randInt&rdquo; template function for random number (#540)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/f93ce20cfd89197cb5d907143ea0f58f5dce2d65 rel=external target=_blank>Add copy from repository in configuration (#486)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/de391cb106b233a63079ecdb88353537420318c7 rel=external target=_blank>[Docs] Add ~/.config/resticprofile/ to macOS default paths (#509)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/f222ed24006d6161767106cb8b9f38fe74266473 rel=external target=_blank>add Makefile help target</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/63dee21a1beaa3d72df3666365363b43b40c26a4 rel=external target=_blank>add field bytes_added_packed in status file etc. (#519)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/adf90cbd71229b207d98b55f7669abdea49bc3a0 rel=external target=_blank>enhance Executable function to handle relative paths (#537)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/f98a2f573c5a134083f17f8e55cc19074bca9c51 rel=external target=_blank>feat(schedule): introduce <code>run-level</code> option (#546)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/5f1c69d663c8f2caee744315e0e20b985b6871e1 rel=external target=_blank>feat(schedule): introduce <code>schtasks-hide-window</code> option (#541)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/461710bc42bcd9e8369c9dc5fb85258aac6542f5 rel=external target=_blank>fix(http-hooks): apply url encoding for ERROR_* env vars (#538)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/f9039fa476a731c9251b3b1a9dbe7a89d72d5938 rel=external target=_blank>fix(http-hooks): resolve profile env in url and body (#544)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/1dce42831f559076b55398ca6b137a5aa6dd7a72 rel=external target=_blank>fix(schedule): generate crontab files without user field (#556)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/25c2f062ca40a57761cbf676f71bebc2f65aed38 rel=external target=_blank>linux: don&rsquo;t resolve symlink on executable to keep a constant name when installed via homebrew (#508)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/859da21db16b275066e7f328b46bcba64ae190c2 rel=external target=_blank>optimize systemctl commands (#531)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/f74803217ccdcda44570871757d168817c0a95f6 rel=external target=_blank>read task info from list format instead of CSV (#547)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/99e6d33ad59f14302335f5029380e1d7ab177594 rel=external target=_blank>stop running other profiles in group after receiving interrupt signal (#539)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/720d7ee7b0edb09c221c3ff3c0a1e8a0be12e953 rel=external target=_blank>update Node.js version to 22 and upgrade dependencies in go.mod and go.sum (#543)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/f265fa26009c83e8ec5a4769224bf008c7faa944 rel=external target=_blank>update SonarCloud trigger condition to check for SONAR_TOKEN presence (#542)</a></li></ul><h1 id=v0310-2025-05-26>v0.31.0 (2025-05-26)</h1><h2 id=-spring-bank-holiday-release->🍸 Spring Bank Holiday release 🌞</h2><p>This release includes several long-awaited improvements.</p><h3 id=improvements>Improvements:</h3><ul><li>Add support for the new Restic flag <code>exclude-cloud-files</code> introduced in version 0.18.0 (Windows only).</li><li>Include missing <code>run-*</code> and <code>send-*</code> targets in all commands (previously missing in <code>check</code> and <code>copy</code> commands).</li><li>Send Restic version as a new Prometheus metric.</li><li>Support <code>.yml</code> files when searching for configuration files (previously only <code>.yaml</code> was considered).</li></ul><h3 id=bug-fixes>Bug fixes:</h3><ul><li>Ignore missing drop-in files to prevent creating an empty systemd schedule.</li></ul><h2 id=changelog-1>Changelog</h2><ul><li><a href=https://github.com/creativeprojects/resticprofile/commit/f7566acc7d87e8f099a3e7ef5b535611c75a04f9 rel=external target=_blank>Add missing run-* and send-* to all command sections (#504)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/88fcedbd7c4b72eee9b0dcfe23236e8d992ea4a6 rel=external target=_blank>add support for windows only flag exclude-cloud-files (#500)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/81a6e45f50e3c2196ff4e62e85bfb61e0e5816a0 rel=external target=_blank>add support for yml extension when searching for configuration file (#506)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/43b6c849331aa4b0e1126df57d556e5ba642f1fc rel=external target=_blank>add version of restic to the Prometheus metrics (#495)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/763a2cdf83c9cd644de4cd275bbaab8c5c4f62b5 rel=external target=_blank>fix: remove duplicated field</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/c3add93ec2debf6e430c9588dc9096ed3c82d936 rel=external target=_blank>ignore missing drop-in files to avoid creating an empty configuration (#502)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/8fd3ddbdfdd0798bdd410909c93dfeaf854dc539 rel=external target=_blank>replace deprecated sonar scan action (#503)</a></li></ul><h1 id=v0301-2025-05-05>v0.30.1 (2025-05-05)</h1><h2 id=-bug-fix-release->🐛 Bug fix release 🐞</h2><p>This releases fixes a regression bug when scheduling <code>system</code> tasks with <code>systemd</code>: in some cases the HOME directory was replaced by the home directory of the user who ran the <code>sudo</code> command</p><p>Bug report: <a href=https://github.com/creativeprojects/resticprofile/issues/493 rel=external target=_blank>https://github.com/creativeprojects/resticprofile/issues/493</a></p><h2 id=changelog-2>Changelog</h2><ul><li><a href=https://github.com/creativeprojects/resticprofile/commit/ceff435459d5a1327af6e5e1f449957b5a8166a3 rel=external target=_blank>fix root home regression bug in 0.30.0 (#497)</a></li></ul><h1 id=v0300-2025-04-04>v0.30.0 (2025-04-04)</h1><h2 id=-spring-release->🌱 Spring release 🌸</h2><p>This release introduces features and fixes for profile scheduling.</p><h3 id=-breaking-change>⚠️ Breaking change</h3><p>Until this release, the <code>user</code> scheduling permission was broken. With <code>systemd</code> or the default macOS scheduler, the permission functioned as <code>user_logged_on</code>, running the profile only when the user was logged in.</p><p>This issue is now fixed for new schedules.</p><p>To update existing schedules, run <code>unschedule</code> and then <code>schedule</code> again.</p><p>For <code>systemd</code>, resticprofile requires root privileges (via sudo) to schedule with <code>user</code> permission, as it now uses a system unit running as the user.</p><h3 id=scheduler>Scheduler</h3><p>Scheduling has been significantly improved with the ability to read existing schedules. The <code>status</code> and <code>unschedule</code> commands now detect any resticprofile schedules from the selected configuration file, even if the profile is no longer present.</p><p>Due to recent error reports, Windows Task Scheduler integration has been completely rewritten to use the <code>schtasks</code> CLI tool.</p><h3 id=other>Other</h3><ul><li>Fixed issue with non-existent battery reported on recent Mac desktop hardware.</li><li>Added support for Restic 0.18.</li><li>Included pre-built binary for Windows on ARM64.</li><li>Upload Resticprofile container to GitHub Container Registry.</li></ul><h2 id=changelog-3>Changelog</h2><ul><li><a href=https://github.com/creativeprojects/resticprofile/commit/f14094b98819e6fc6ebd001547ede9b2d58bd2ce rel=external target=_blank>Correct configuration search paths on Windows (#478)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/1b05c7a6932b188d0250dd0e948889296c976d26 rel=external target=_blank>Create FUNDING.yml</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/b6b8285e6226478aceb9c112eec2cd0a093ac5d4 rel=external target=_blank>Documentation versioning (#464)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/edc129250c542c29d8e999aeca557b0cfc24b529 rel=external target=_blank>Run tests on read only source dir (#461)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/ae073aeb8c1b82f38bd61cbb8c0ca5e1f82cdf9e rel=external target=_blank>Schedule user logged in (#470)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/8d8a0dac43b9023d951272ea95c0703b79207fd5 rel=external target=_blank>Scheduling improvements (#425)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/e490c429bf167f7e73e952692fe527f01f6c28c8 rel=external target=_blank>Set schedule permissions (#476)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/07df1419c8dae8effe8e1bb46d64a7e8ea912f2c rel=external target=_blank>Upload to Github Container Registry (#479)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/41039712ee76a675ad60eb9e72a6c3a6e314d4b8 rel=external target=_blank>Use schtasks.exe CLI to schedule jobs on Windows (#459)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/ae38db96f2419b9c3cf3c5f95a48474e5db01ed9 rel=external target=_blank>add microarchitecture to version command (#466)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/87cfd5db613cc5b1a1a2ab71afddd6a08989e041 rel=external target=_blank>add other restic exit codes</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/ac3b810f2f735642d0a0cea8ec46c585b80904bc rel=external target=_blank>chore: add pre-built binary for windows arm64</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/edbea57667a422ccce0237b06a8072f305dc6ee6 rel=external target=_blank>chore: add support for restic 0.18</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/c5a5dfa4c547318f02f661f243ed6323cc8dffc4 rel=external target=_blank>don&rsquo;t include systemd dependencies on macos & windows</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/af9ab7f4e8f63f7b84e1939d97b3277e20e9000d rel=external target=_blank>fix for macOs ghost battery (#468)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/6c9b3cdd7b38bbf05f721c5905ffeb25b9ee0087 rel=external target=_blank>remove devcontainer config</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/b867b01f00d7dfa0b06c9e079880c103d9af614d rel=external target=_blank>replace experimental maps package with standard library (#467)</a></li></ul><h1 id=v0291-2025-02-06>v0.29.1 (2025-02-06)</h1><h2 id=--small-maintenance-release->❄️ Small maintenance release ☃️</h2><p>Not much going on in this maintenance release while I&rsquo;m still working on a big refactoring of the scheduling for the next release.</p><ul><li>logrotate package added to the Docker image</li><li>upgrade dependencies to fix security vulnerabilities</li></ul><h2 id=changelog-4>Changelog</h2><ul><li><a href=https://github.com/creativeprojects/resticprofile/commit/e2297a6f4f0f03a1733177db1dc950c6e05ddd88 rel=external target=_blank>add logrotate to docker image #440</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/37c9aef3032005a88ed006059432a2baddc97ab6 rel=external target=_blank>upgrade package - CVE-2024-45337</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/467b82ee1eade497c9d23c0dfe69a889143dc807 rel=external target=_blank>upgrade packages</a></li></ul><h1 id=v0290-2024-10-28>v0.29.0 (2024-10-28)</h1><h2 id=--halloween-edition->🧙🏻‍♀️ Halloween edition 🎃</h2><ul><li>Finally a long standing bug was fixed in this version: use proper <code>nice</code> and <code>ionice</code> values on <code>systemd</code> scheduled tasks.</li><li>Also the last chunk of work for the configuration <code>v2</code>: we can now schedule groups!</li><li>Improvement on the JSON schema: a single URL can be used for <code>v1</code> and <code>v2</code> configuration</li><li>Another long standing bug on Windows: escape configuration file path on scheduled tasks</li></ul><h2 id=changelog-5>Changelog</h2><ul><li><a href=https://github.com/creativeprojects/resticprofile/commit/fb6c7a2fbb0d3a955a0cdb53e87c58a32a532022 rel=external target=_blank>Escape config file name in schedule parameters (#420)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/1d3ec32e293c9d3c4918df7ea7bd6a62a3eb2168 rel=external target=_blank>Fix scheduling arguments (#423)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/62c5c6472f4ef5462bbafc02d6e75d7684a40abf rel=external target=_blank>Global json schema (auto versioning) (#412)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/2a34ea77e5d4c8367436e2ebb2c7cf82973f39a5 rel=external target=_blank>Group schedule (#418)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/830d0fd4f8313a0de7a04ffd48d2b44cc797929a rel=external target=_blank>Setup systemd priority (#409)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/62f311814f0f1e034942f3bf6a95dff3590597e3 rel=external target=_blank>doc: upgrade hugo theme</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/da03de768a30c8d6656be5cce39d35a9e42e0817 rel=external target=_blank>fix deprecated option in goreleaser config</a></li></ul><h1 id=v0281-2024-10-02>v0.28.1 (2024-10-02)</h1><h2 id=-autumn-bug-fixing->🍂 Autumn bug fixing 🍁</h2><ul><li>fix JSON schema for TOML files that stopped working some time ago (when using <code>Even Better TOML</code> extension on VSCode)</li><li>[configuration v2] fix regression bug where profile groups were stopping after an error when the <code>continue-on-error</code> flag was set</li></ul><h2 id=changelog-6>Changelog</h2><ul><li><a href=https://github.com/creativeprojects/resticprofile/commit/57d1439ea33e6da9a5e19010cf2fc95b951ea27e rel=external target=_blank>Fix for continue-on-error broken in 0.26.0 (#407)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/ccccfa2d0a56432af84dda9f3833e760e30d6a48 rel=external target=_blank>Linters (#397)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/249fd41b3d8e1af034594c9617bc3145a6a3e29a rel=external target=_blank>add base url on json schema (#408)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/b254503506c76700eb74868677facaed250a7730 rel=external target=_blank>add misspell linter</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/7dcb41bf248da13a58d551838cca7eb2412eaaf2 rel=external target=_blank>fix bullet points from restic man (#398)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/4181d9e809539ede5b2d73aeb682fa9324e493db rel=external target=_blank>fix overflow integer conversion lint warning from gosec (#399)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/22317937234ab678c899c15ac7b1900dc7fe4b54 rel=external target=_blank>generate JSON schema for restic 0.17</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/0ad1b68504f41fc6e7ca11297683ec4e2dc02ff8 rel=external target=_blank>prepare next release</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/3612b519aa5c0e41ae302ce5fda136db288e0837 rel=external target=_blank>use goreleaser v2</a></li></ul><h1 id=v0280-2024-08-17>v0.28.0 (2024-08-17)</h1><h2 id=--sunny-summer-edition->🌞 Sunny Summer Edition 🌻</h2><p>Two big things in this release:</p><ul><li>support for all the new commands and flags of <code>restic 0.17</code></li><li>experimental support for environment variables in configuration flags</li></ul><h3 id=example-of-using-environment-variables-in-configuration>Example of using environment variables in configuration:</h3><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>check-repo-profile</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>inherit</span><span class=p>:</span><span class=w> </span><span class=l>default</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>run-before</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=s2>&#34;echo DOW=`date +\&#34;%u\&#34;` &gt;&gt; {{ env }}&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>check</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>read-data-subset</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;$DOW/7&#34;</span></span></span></code></pre></div><h2 id=changelog-7>Changelog</h2><ul><li><a href=https://github.com/creativeprojects/resticprofile/commit/3b42e4a rel=external target=_blank>Add contributed docs for protected configuration on Windows (#394)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/1e80d02 rel=external target=_blank>Restic 0.17 (#396)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/eb8c721 rel=external target=_blank>build with go 1.23</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/1df3711 rel=external target=_blank>convert priority value to lowercase</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/d74c521 rel=external target=_blank>fix panic when sending on closed handler</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/49add79 rel=external target=_blank>refactoring of arguments generation (#387)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/cff446b rel=external target=_blank>upgrade packages</a></li></ul><h1 id=v0271-2024-07-08>v0.27.1 (2024-07-08)</h1><h2 id=-rainy-summer-edition->🌦️ Rainy Summer Edition ☔</h2><p>Fix of a regression bug preventing resticprofile from sending logs to a temporary session log file (prefixed with <code>temp:/t/</code>)
Thanks @iluvatyr for the quick bug report 👍🏻</p><h2 id=changelog-8>Changelog</h2><ul><li><a href=https://github.com/creativeprojects/resticprofile/commit/a615444 rel=external target=_blank>fix creation of mock binaries during unit tests (#375)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/c9f87ec rel=external target=_blank>fix documentation for release</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/eb13003 rel=external target=_blank>fix regression with temporary log file (#386)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/abf35a7 rel=external target=_blank>prepare next release</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/854f6c9 rel=external target=_blank>refactor unit tests on package lock (#374)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/ffffabf rel=external target=_blank>remove flaky test</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/5cfdca2 rel=external target=_blank>remove goarm linked to the internal variable of runtime go1.23 will apparently forbid the use of linkname to the standard library</a></li></ul><h1 id=v0270-2024-06-27>v0.27.0 (2024-06-27)</h1><h2 id=-summer-release->🌻 Summer release 🌞</h2><p>Summer is here in the Northern Hemisphere! A new release is here too! 🎉</p><p>A lot of goodies in this release:</p><h3 id=new-run-schedule-command>new run-schedule command</h3><p>It&rsquo;s more a <em>behind the scene</em> feature: you no longer need to re-schedule your targets after you changed the configuration. The generated schedule command line is now using this new <code>run-schedule</code> command that reads all the newest bits from the configuration.</p><p>You might want to <code>unschedule</code> and <code>schedule</code> all your profiles one last time to replace the existing command line using the new <code>run-schedule</code> command.</p><p>More information: <a href=https://creativeprojects.github.io/resticprofile/schedules/commands/index.html#run-schedule-command rel=external target=_blank>https://creativeprojects.github.io/resticprofile/schedules/commands/index.html#run-schedule-command</a></p><h3 id=direct-support-for-crontab-files>direct support for crontab files</h3><p>Previously resticprofile was using the <code>crontab</code> tool to read and write <code>crond</code> schedules. Now you can directly setup a <code>crontab</code> file no matter which tool is going to consume it.</p><p>More information: <a href=https://creativeprojects.github.io/resticprofile/schedules/index.html rel=external target=_blank>https://creativeprojects.github.io/resticprofile/schedules/index.html</a></p><h3 id=keep-content-of-configuration-variables-between-commands>keep content of configuration variables between commands</h3><p>This was a big issue for some time. The wait is over! You can now set a configuration variable anywhere in a script and use its value later.</p><p>More information: <a href=https://creativeprojects.github.io/resticprofile/configuration/run_hooks/index.html#passing-environment-variables rel=external target=_blank>https://creativeprojects.github.io/resticprofile/configuration/run_hooks/index.html#passing-environment-variables</a></p><h3 id=resticprofile_flagname-env-vars>&ldquo;RESTICPROFILE_{FLAGNAME}&rdquo; env vars</h3><p>All cli flags can now be set using environment variables.</p><p>More information: <a href=https://github.com/creativeprojects/resticprofile/issues/334 rel=external target=_blank>#334</a></p><h3 id=allow-controlling-command-output-redirection>allow controlling command output redirection</h3><p>Allow redirection of the console messages to a log file or to syslog.</p><p>More information: <a href=https://github.com/creativeprojects/resticprofile/pull/343 rel=external target=_blank>#343</a></p><h3 id=add-stderr-to-redirect-console-to-stderr-for-cat-and-dump>Add &ldquo;&ndash;stderr&rdquo; to redirect console to stderr (for &ldquo;cat&rdquo; and &ldquo;dump&rdquo;)</h3><p>More information: <a href=https://github.com/creativeprojects/resticprofile/pull/353 rel=external target=_blank>https://github.com/creativeprojects/resticprofile/pull/353</a></p><h3 id=add-option-to-set-working-directory-for-restic-backup>Add option to set working directory for restic backup</h3><p>More information: <a href=https://github.com/creativeprojects/resticprofile/pull/354 rel=external target=_blank>https://github.com/creativeprojects/resticprofile/pull/354</a></p><h3 id=many-bug-fixes>many bug fixes!</h3><h2 id=changelog-9>Changelog</h2><ul><li><a href=https://github.com/creativeprojects/resticprofile/commit/1bbac2a rel=external target=_blank>Add &ldquo;&ndash;stderr&rdquo; to redirect console to stderr (for &ldquo;cat&rdquo; and &ldquo;dump&rdquo;) (#353)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/0598026 rel=external target=_blank>Add documentation on how to ingest resticprofile stats into telegraf (#366)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/f9b5dac rel=external target=_blank>Add option to set working directory for restic backup (#354)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/00360a2 rel=external target=_blank>Fix group priority (#339)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/a05ad39 rel=external target=_blank>Relative source followup: Evaluate symlinks (#355)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/56f20af rel=external target=_blank>Squashed commit of the following: (#259)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/6b00c2c rel=external target=_blank>add &ldquo;profile&rdquo; flag as an alias for &ldquo;name&rdquo; (#357)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/6da0317 rel=external target=_blank>also search configuration from ~/.config/resticprofile on macOS (#370)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/5739b13 rel=external target=_blank>crond: add support for crontab file only (on any OS) (#289)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/9719411 rel=external target=_blank>don&rsquo;t replace header value in stringifyHeaders (#327)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/2a7d5fc rel=external target=_blank>drop-ins: move systemd drop-ins into unified schedule struct (#341)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/7e03741 rel=external target=_blank>drop-ins: transparent timer drop-in support (#340)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/9b2bd8c rel=external target=_blank>env-file: Implement dotenv and {{env}} support (#323)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/16f5dc5 rel=external target=_blank>fix remaining unit tests failing in Windows (#360)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/3b8613e rel=external target=_blank>fixed link to config reference / global section (#349)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/5fad1cb rel=external target=_blank>flags: added &ldquo;RESTICPROFILE_{FLAGNAME}&rdquo; env vars (#335)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/85d5afc rel=external target=_blank>log: allow controlling command output redirection (#343)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/e5b17d3 rel=external target=_blank>restic: use repository-file if the repo flag contains a password (#336)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/4255868 rel=external target=_blank>schedule: added unified schedule config struct (#333)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/667180e rel=external target=_blank>syslog: local syslog and stdout redirection (#344)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/e93874d rel=external target=_blank>build with go 1.22 and macOs arm64 (#317)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/e6eed3d rel=external target=_blank>update test to pass on Windows 11 (#359)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/655e9c5 rel=external target=_blank>upgrade packages (CVE-2024-24786) (#347)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/08a01c4 rel=external target=_blank>upgrade packages (CVE-2024-6104)</a></li></ul><h1 id=v0260-2024-02-20>v0.26.0 (2024-02-20)</h1><h2 id=-second-time-lucky-february-release->🦆 Second time lucky February release 🚀</h2><p>🆕 A lot of pre-built binaries have been added on this release. This is to align with the list of pre-built binaries provided by <code>restic</code></p><p>Otherwise this is mostly a maintenance release with a few fixes:</p><ul><li>fixes multiple backup profiles exporting prometheus files to <code>node_exporter</code></li><li>fix missing fields in the <code>show</code> command</li><li>weekly docker image build (rebuilt under the same version tag, and as <code>latest</code>)</li><li>restrict the <code>copy</code> command to a list of snapshots in the configuration</li></ul><h2 id=changelog-10>Changelog</h2><ul><li><a href=https://github.com/creativeprojects/resticprofile/commit/2ab1f3a rel=external target=_blank>Add pre-built binary targets to release pipeline (#324)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/233e4b8 rel=external target=_blank>Add prometheus label to build info (#319)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/b1b03db rel=external target=_blank>Change priority warning message (#310)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/9eba431 rel=external target=_blank>Fix missing fields in show command (#315)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/a9273f8 rel=external target=_blank>Merge pull request #312 from creativeprojects/nightly</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/15004f9 rel=external target=_blank>Restrict copy command to a list of snapshots (#291)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/1c076dc rel=external target=_blank>add separate goreleaser config for rebuilding the docker image only (#309)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/bbb3760 rel=external target=_blank>add snapshot build to docker hub</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/8aebd28 rel=external target=_blank>publish docker images and manifest manually (#313)</a></li></ul><h1 id=v0250-2024-02-08>v0.25.0 (2024-02-08)</h1><h2 id=-february-release->💖 February release 💝</h2><h3 id=-potential-breaking-change>⚠️ Potential breaking change</h3><p>The prometheus library used to send metrics to the proxy using <code>protobuf</code>.
By default it&rsquo;s now using the more widely used <code>text</code> format.</p><p>If you have any issue sending metrics to your proxy, you can revert to the previous behaviour by adding this option to your profile (it&rsquo;s <strong>not</strong> a global option)</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>my_profile</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>prometheus-push-format</span><span class=p>:</span><span class=w> </span><span class=l>protobuf</span></span></span></code></pre></div><p>More information about the different formats: <a href=https://prometheus.io/docs/instrumenting/exposition_formats/ rel=external target=_blank>https://prometheus.io/docs/instrumenting/exposition_formats/</a></p><h2 id=new-in-this-version>New in this version</h2><ul><li>fix for CVE-2023-48795</li><li>new option <code>prometheus-push-format</code> with values <code>text</code> or <code>protobuf</code> (#281)</li><li>new option to set log output in <code>global</code> section (#277)</li><li>more control over the default systemd service files (#267)</li><li>and bug fixes!</li></ul><p><strong>Thanks to all our contributors for the good work!</strong></p><h2 id=changelog-11>Changelog</h2><ul><li><a href=https://github.com/creativeprojects/resticprofile/commit/765c2af rel=external target=_blank>Add <code>prometheus-push-format</code> to allow selecting text format (#281)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/ae9554a rel=external target=_blank>Pass context to own commands and profile runner (#280)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/fccc05b rel=external target=_blank>Remove rclone binary in make clean target (#283)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/0871d28 rel=external target=_blank>Trying new configuration for CodeQL (#306)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/1317f60 rel=external target=_blank>Upgrade packages (#307)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/63f8faf rel=external target=_blank>chore: prep next release & allow deployment to fail on PR</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/3d72803 rel=external target=_blank>chore: various fixes (#285)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/952380f rel=external target=_blank>doc: add information about windows path in variables</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/f346571 rel=external target=_blank>doc: add various missing information (#278)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/1b3292c rel=external target=_blank>logging: allow to setup default log output in global (#277)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/99484bf rel=external target=_blank>macOS: create LaunchAgents folder if it doesn&rsquo;t exist</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/37dcf84 rel=external target=_blank>profile: support source with &ldquo;-&rdquo; (dash) prefix (#276)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/a1b7840 rel=external target=_blank>systemd drop-ins support, option to wait for network-online.target (#267)</a></li></ul><h1 id=v0240-2023-10-24>v0.24.0 (2023-10-24)</h1><h2 id=-october-release->🎃 October release 👻</h2><ul><li>upgrade dependencies to fix CVE-2023-3978, CVE-2023-39325 and CVE-2023-44487</li><li>fix the broken documentation (some tabs were not accessible)</li><li>can now stop the wait for a lock (restic or resticprofile lock). Before the fix the <code>CTRL-C</code> or other signal was ignored until the lock was acquired or timed out.</li><li>resticprofile is now available on <a href="https://scoop.sh/#/apps?q=resticprofile" rel=external target=_blank>scoop</a>! thanks @hgraeber</li><li>detect if the host is running on battery and cancel an action depending on how much battery is left - see <a href=https://creativeprojects.github.io/resticprofile/schedules/configuration/index.html#schedule-ignore-on-battery rel=external target=_blank>schedule section</a></li><li>bug fixes (see changelog)</li></ul><h2 id=changelog-12>Changelog</h2><ul><li><a href=https://github.com/creativeprojects/resticprofile/commit/ac99302 rel=external target=_blank>Allow to interrupt the wait for a lock (#249)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/b08ac73 rel=external target=_blank>Detect if running on battery (#235)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/1e6d07a rel=external target=_blank>Docs for installation from scoop (#268)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/0d73c2b rel=external target=_blank>Fix doc shortcodes (#271)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/f5e751c rel=external target=_blank>Template: Reduce log level for <code>Getwd()</code> failures (#251)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/e20973e rel=external target=_blank>systemd: prevent paging in systemd schedules (#270)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/bcfaaa7 rel=external target=_blank>upgrade packages - CVE-2023-3978 - CVE-2023-39325 - CVE-2023-44487</a></li></ul><h1 id=v0230-2023-08-11>v0.23.0 (2023-08-11)</h1><h2 id=-new-summer-edition->🌞 New summer edition 🌻</h2><p>This release mostly fixes a few regression from version 0.21.0 and adds a handful of new features:</p><ul><li>Allow to set <code>base-dir</code> and <code>source-dir</code> in a profile so you can start resticprofile from any current folder</li><li>Allow to set <code>keep-tag</code>, <code>tag</code> & <code>group-by</code> as empty string</li><li>Support for restic v0.16 new flags</li></ul><p>Thanks to all the contributors for the great work 👍🏻</p><h2 id=changelog-13>Changelog</h2><ul><li><a href=https://github.com/creativeprojects/resticprofile/commit/b0767ad rel=external target=_blank>Added {{ &ldquo;data&rdquo; | base64 }} & {{ &ldquo;data&rdquo; | hex }} (#213)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/b00c8a0 rel=external target=_blank>Allow to set a base-dir inside the profile (#183) (#192)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/4b2ea31 rel=external target=_blank>Fix 194: Allow to set &ldquo;keep-tag&rdquo;, “tag” & “group-by” as empty string (#220)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/10057d4 rel=external target=_blank>Fix 218: Args filter must not remove paths (#222)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/0c8c985 rel=external target=_blank>Fix 223, 230: Escape args and absolute restic path for pwsh (#224)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/2bf0d28 rel=external target=_blank>Fix 242: iexclude-file not converted to abs path (#243)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/6cbfdb3 rel=external target=_blank>Fix links for versioned JSON schema files (#244)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/fc66fab rel=external target=_blank>Fix schedule tests (#236)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/304e418 rel=external target=_blank>Fix: Do not add <code>--tag</code> for <code>tag: true</code> (#221)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/82fccdb rel=external target=_blank>Restic: Add restic v16 release (#238)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/3f4e0bf rel=external target=_blank>Restic: Fixed unit tests for restic v16 (#239)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/ba9297a rel=external target=_blank>Retention: Align host filter with &ldquo;backup&rdquo; (#227)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/347501d rel=external target=_blank>Schedule: Capture <code>os.Environ</code> on schedule creation (#212)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/9c05157 rel=external target=_blank>Support <code>lock-wait</code> with <code>--lock-retry</code> in restic 0.16 (#240)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/6cc332d rel=external target=_blank>Support build when GOPATH is unset / fix mockery build warning (#234)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/3476fbc rel=external target=_blank>Variables: Allow to escape &ldquo;$&rdquo; with &ldquo;$$&rdquo; (#216)</a></li></ul><h1 id=v0220-2023-05-06>v0.22.0 (2023-05-06)</h1><h2 id=--breaking-change>⚠️ Breaking change</h2><p>The default value of the <code>job</code> tag on prometheus gateway push has changed from <code>command</code> to <code>profile.command</code>.
But don&rsquo;t worry: you can easily revert back to the original value by adding this option in your configuration:</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>prometheus-push-job</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;${COMMAND}&#34;</span></span></span></code></pre></div><h2 id=fixes>Fixes:</h2><ul><li>Complicated scheduling on Windows was sometimes setting up a random delay before starting a job</li></ul><h2 id=changelog-14>Changelog</h2><ul><li><a href=https://github.com/creativeprojects/resticprofile/commit/c00fc9a rel=external target=_blank>New option to specify Prometheus Pushgateway job name (#193)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/0c7405f rel=external target=_blank>Templates: Add <code>map</code>/<code>splitR</code>/<code>contains</code>/<code>matches</code> (#197)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/7545bbf rel=external target=_blank>Upgrade task scheduler library (#206)</a></li></ul><h1 id=v0211-2023-04-05>v0.21.1 (2023-04-05)</h1><h2 id=bug-fixes-1>Bug fixes!</h2><p>This small release fixes two regression bugs introduced in version <code>0.21.0</code></p><ul><li>the <code>~</code> was no longer replaced by the user&rsquo;s home directory for some flag (<code>repository</code> and others&mldr;)</li><li>environment variables were no longer replaced by their value for some flag (<code>repository</code> and others&mldr;)</li></ul><p>Thanks @jkellerer for the quick fixes 😉 👍🏻</p><h2 id=new-features-from-v0210>New features from <code>v0.21.0</code></h2><p>This release adds a verification of all the flags permitted by restic. Only the flags compatible with your version of restic will be generated (prior to this version, any flag like <code>unknown-flag</code> would end up on the restic command line as <code>--unknown-flag</code>.</p><p>Also this version generates a JSON schema: this is the configuration schema which can auto-complete options, and verify that your configuration is correct. It works with any compatible editor for the JSON, TOML and YAML configuration file format. Thanks @jkellerer for the awesome work on this 🎉 . <a href=https://creativeprojects.github.io/resticprofile/configuration/jsonschema/index.html rel=external target=_blank>More information here</a>.</p><p>Other nice feature is the introduction of the <code>help</code> command which works for both all the <strong>resticprofile</strong> and <strong>restic</strong> commands and flags. Try it out!</p><h2 id=changelog-15>Changelog</h2><ul><li><a href=https://github.com/creativeprojects/resticprofile/commit/487db0b rel=external target=_blank>Fix #187: homedir/env-vars in repo and other flags (#188)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/b78d1a0 rel=external target=_blank>Fix #189: completion of own commands (#190)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/b6a98ef rel=external target=_blank>Updated clog to 0.13 (#191)</a></li></ul><h1 id=v0210-2023-04-03>v0.21.0 (2023-04-03)</h1><h3 id=this-is-a-great-milestone-for-resticprofile->This is a great milestone for resticprofile 🥳</h3><p>This release adds a verification of all the flags permitted by restic. Only the flags compatible with your version of restic will be generated (prior to this version, any flag like <code>unknown-flag</code> would end up on the restic command line as <code>--unknown-flag</code>.</p><p>Also this version generates a JSON schema: this is the configuration schema which can auto-complete options, and verify that your configuration is correct. It works with any compatible editor for the JSON, TOML and YAML configuration file format. Thanks @jkellerer for the awesome work on this 🎉 . <a href=https://creativeprojects.github.io/resticprofile/configuration/jsonschema/index.html rel=external target=_blank>More information here</a>.</p><p>Other nice feature is the introduction of the <code>help</code> command which works for both all the <strong>resticprofile</strong> and <strong>restic</strong> commands and flags. Try it out!</p><p>And as usual, a lot of bug fixes 😉</p><h2 id=changelog-16>Changelog</h2><ul><li><a href=https://github.com/creativeprojects/resticprofile/commit/683bf78 rel=external target=_blank>Add variables <code>.OS</code> and <code>.Arch</code> to all templates (#181)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/74b0c46 rel=external target=_blank>Allow config encoding in UTF16 and ISO88591</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/d6a51ad rel=external target=_blank>Enhanced: Catch any &ndash;help & &ndash;dry-run (http only) (#178)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/3f5cdc6 rel=external target=_blank>Feature: JSON schema (#103) & generated reference</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/1aad0fb rel=external target=_blank>Fix #164: Failure on uppercase mixin names</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/e65f9bc rel=external target=_blank>Implement tempDir and log without locking (#168) (#174)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/f2a9c04 rel=external target=_blank>Make URL and header confidential in HTTP-hook (#175)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/e069b77 rel=external target=_blank>Restic: Add restic v15 release (#180)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/d2e789c rel=external target=_blank>add build tag to disable self-update (#184)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/8231087 rel=external target=_blank>add suppport for user_logged_on (#160)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/f782ef5 rel=external target=_blank>build with go 1.20</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/bd3813a rel=external target=_blank>upgrade packages CVE-2022-41721</a></li></ul><h1 id=v0200-2023-01-23>v0.20.0 (2023-01-23)</h1><p>Not too many new features in this release, but I wanted to build a new docker image with the new restic 0.15.0</p><h2 id=improvements-1>Improvements</h2><ul><li>Adds shell command hooks to the following additional commands: <code>dump</code>, <code>find</code>, <code>ls</code>, <code>mount</code>, <code>restore</code>, <code>snapshots</code>, <code>stats</code> and <code>tag</code>.</li><li>Docker image now contains ssh (to allow <code>sftp</code> repository), curl, tzdata and ca-certificates</li></ul><h2 id=changelog-17>Changelog</h2><ul><li><a href=https://github.com/creativeprojects/resticprofile/commit/51634c8 rel=external target=_blank>Merge pull request #154 from jkellerer/ft-151</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/00ab266 rel=external target=_blank>New docker image (#161)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/fce7165 rel=external target=_blank>Run-hooks for all non-conflicting commands (#151)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/7439620 rel=external target=_blank>add QEMU for github agent to build an arm64 image</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/7c2f806 rel=external target=_blank>dry-run should not send web hooks #157</a></li></ul><h1 id=v0190-2022-11-11>v0.19.0 (2022-11-11)</h1><h2 id=new-version-0190-of-resticprofile>New version 0.19.0 of resticprofile!</h2><p>With:</p><ul><li>New help system showing all flags from resticprofile <strong>and restic</strong>. Just type <code>resticprofile help backup</code> and see (thanks @jkellerer)</li><li><code>copy</code> command now has <code>run-before</code>, <code>run-after</code>, <code>run-after-fail</code> and <code>run-finally</code> targets. Also more targets are now available for <code>backup</code> and for a profile. <a href=https://creativeprojects.github.io/resticprofile/configuration/run_hooks/index.html rel=external target=_blank>See the documentation</a>.</li><li>groups of profiles can keep running after a profile failed (this is a global settings)</li><li>Prevent your system from idle sleeping (Windows, macOS, and unix type OS using <code>systemd</code>)</li><li>May contain nuts</li></ul><h2 id=changelog-18>Changelog</h2><ul><li><a href=https://github.com/creativeprojects/resticprofile/commit/c360880 rel=external target=_blank>Add &ndash;help to own commands (e.g. generate &ndash;help) (#139)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/1edf995 rel=external target=_blank>Add last backup time to prometheus metrics (#132)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/8a70e7b rel=external target=_blank>Config: Add run before/after/fail to more restic commands than backup (#138)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/419e66c rel=external target=_blank>Continue profile in group on error (#149)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/a880b44 rel=external target=_blank>Fixes zsh completion script (use of outdated CLI) (#150)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/49c4920 rel=external target=_blank>Prevent system from idle sleeping (#140)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/d4c1032 rel=external target=_blank>add devcontainer config</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/0c43c2c rel=external target=_blank>chore: upgrade packages</a></li></ul><h1 id=v0180-2022-08-29>v0.18.0 (2022-08-29)</h1><p>Following the release of the long awaited restic 0.14.0, here’s a new resticprofile!</p><p>A few big features were introduced in this version:</p><ul><li>HTTP hooks using a similar syntax to command hooks but sending HTTP messages to monitoring platforms</li><li>Better support of the new-ish <code>copy</code> command</li><li>Addition of mixins on configuration file v2 (in preview)</li><li>Ability to choose your preferred shell on Windows (cmd, powershell or bash)</li><li>Send resticprofile logs to a syslog server</li><li>Add armv8 (arm64) CPU target to docker images</li><li>Upgrade to restic 0.14.0 in docker image</li><li>Add rclone to docker image</li><li>Also search for a configuration file in the resticprofile program folder on Windows (to be used in portable mode)</li></ul><h2 id=changelog-19>Changelog</h2><ul><li><a href=https://github.com/creativeprojects/resticprofile/commit/7ba20ad rel=external target=_blank>Add http hooks (#114)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/fb62876 rel=external target=_blank>Add support for syslog (#127)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/a5c1147 rel=external target=_blank>Allow to choose <code>shell</code> in global config (#112)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/d492d7d rel=external target=_blank>ConfigV2: Mixins (#115)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/ca9a418 rel=external target=_blank>ConfigV2: Replace list params - fix #108 (#113)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/2ed3045 rel=external target=_blank>Initialise copy repository using &ndash;copy-chunker-params (#117)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/43ce0be rel=external target=_blank>Mixins: List merging & inheritance update (#121)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/1b8774c rel=external target=_blank>add binary dir in path and .BinaryDir template var (#134)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/eb70a8a rel=external target=_blank>add goreleaser config to also build arm64 images</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/35d07ee rel=external target=_blank>add rclone to docker image #131</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/0381942 rel=external target=_blank>upgrade packages (CVE-2022-28948)</a></li></ul><h1 id=v0170-2022-05-16>v0.17.0 (2022-05-16)</h1><h2 id=here-it-is>Here it is!</h2><p>It&rsquo;s been a while since we released a new version 😞
The resticprofile team has been busy preparing some really cool new features:</p><ul><li>simplify the command line by allowing the use of [profile].[command] - Thanks @Syphdias for the PR #89</li><li>shell completion (for <code>bash</code>, can also be used by <code>zsh</code> with bash compatibility) - Thanks @jkellerer for the PR #90</li><li>run a shell command to use as a stdin input (like <code>mysqldump</code>) - Thanks @jkellerer for the PR #98</li><li>run a shell command in the background when non fatal errors are detected from restic - Thanks @jkellerer for the PR #99</li></ul><p>and a lot of bug fixes 👍🏻</p><h2 id=changelog-20>Changelog</h2><ul><li><a href=https://github.com/creativeprojects/resticprofile/commit/83e423e rel=external target=_blank>Add run flag to to be able to have profile and job name as one argument (#89)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/20a3b81 rel=external target=_blank>Added &ldquo;generate&rdquo; command to create resources (#110)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/1d2b214 rel=external target=_blank>Added missing cmds that filter by host, tag & path</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/8cef157 rel=external target=_blank>Feature: Take command output as stdin for restic (#98)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/fe336ff rel=external target=_blank>Fix and unit tests for #91</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/ad511c4 rel=external target=_blank>Fix config includes when any pattern has no match (#95)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/3e856ce rel=external target=_blank>Implemented stream-error callbacks (#99)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/3688b90 rel=external target=_blank>Merge pull request #101 from jkellerer/fix-common-args</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/4f13930 rel=external target=_blank>Merge pull request #94 from jkellerer/ft-add-missing-commands</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/a72f635 rel=external target=_blank>Only pass common CLI args to command hooks [#100]</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/7553a24 rel=external target=_blank>Shell completion (#90)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/ea52e93 rel=external target=_blank>display a neat stack trace on panic</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/ff13660 rel=external target=_blank>fix for profiles command not showing inherited commands fixes second part of #97</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/69dd965 rel=external target=_blank>remove &ldquo;includes&rdquo; section from profiles in &ldquo;profiles&rdquo; command</a></li></ul><h1 id=v0161-2022-01-30>v0.16.1 (2022-01-30)</h1><p>New maintenance version, with bug fixes:</p><ul><li>fix multiplication of arguments when commands are retried</li><li>fix status file telling the backup was successful when a warning happened (file/dir not found)</li></ul><h2 id=changelog-21>Changelog</h2><ul><li><a href=https://github.com/creativeprojects/resticprofile/commit/e18906b rel=external target=_blank>Fix args are multiplied when commands are retried (#84)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/358f060 rel=external target=_blank>Fix for #88 with unit tests</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/b011437 rel=external target=_blank>don&rsquo;t inherit profile description</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/16ad4b1 rel=external target=_blank>prepare for future versions of the configuration</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/da8c255 rel=external target=_blank>show schedules separately</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/358a5db rel=external target=_blank>simple implementation of a config file v2</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/e2bd2cf rel=external target=_blank>update packages</a></li></ul><h1 id=v0160-2021-10-18>v0.16.0 (2021-10-18)</h1><p>This release adds a few new features:</p><ul><li>support for splitting configuration into multiple files</li><li>support for <code>run-finally</code> that runs shell commands every time after restic</li><li>ability to define your own systemd unit and timer files (from go templates)</li><li>support for the restic <code>copy</code> command</li><li>fix for some cosmetic issues with <code>crond</code> scheduler</li></ul><h2 id=changelog-22>Changelog</h2><ul><li><a href=https://github.com/creativeprojects/resticprofile/commit/1fa7d48 rel=external target=_blank>Add support for copy command (#73)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/271c128 rel=external target=_blank>Change codecov uploader to use GitHub Action v2 (#79)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/85fcc20 rel=external target=_blank>Optional: Allow disabling path in retention with &lsquo;false&rsquo; (#67)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/8773899 rel=external target=_blank>Scheduler refactoring (#76)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/48c822c rel=external target=_blank>Support &ldquo;run-finally&rdquo; in backup-section & profile (#70)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/ac13d06 rel=external target=_blank>Supporting config <code>includes</code> (e.g. <code>profiles.d</code>) (#65)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/245a440 rel=external target=_blank>Systemd template (#75)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/122620e rel=external target=_blank>add tests on crontab</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/0dad5a8 rel=external target=_blank>crontab RemoveJob returns error if the entry was not found</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/ff2fc1f rel=external target=_blank>upgrade dependencies</a></li></ul><h2 id=docker-images>Docker images</h2><ul><li><code>docker pull creativeprojects/resticprofile:0.16.0</code></li></ul><h1 id=v0150-2021-08-29>v0.15.0 (2021-08-29)</h1><h2 id=-important>⚠️ Important</h2><p>Version 0.15 fixed some issues with escaping parameters to the restic command line. <strong>If you&rsquo;ve used any of these characters in file or directory names in your configuration, please make sure your backup is still working as expected:</strong> <code>space</code>, <code>*</code>, <code>?</code>, <code>\</code>, <code>[</code>, <code>'</code>, <code>"</code>.</p><p>If for some reason the fix broke your configuration, there&rsquo;s a new flag <code>legacy-arguments</code> that you can activate in the <code>global</code> section to revert back to the broken implementation:</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>global</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>legacy-arguments</span><span class=p>:</span><span class=w> </span><span class=kc>true</span></span></span></code></pre></div><h2 id=new-features-in-015>New features in 0.15:</h2><ul><li>add <code>.Hostname</code> in configuration template (#55)</li><li>add description field in profile section</li><li>add support for prometheus file export and push gateway</li><li>hide confidential values in output (#58)</li><li>add <code>.TmpDir</code> variable to configuration template (#62)</li></ul><h2 id=this-version-also-includes-fixes-for>This version also includes fixes for:</h2><ul><li>resolving special paths starting with a <code>~</code> (unixes only)</li><li>warn when the restic binary was not found at the specified location (but still found at a different location)</li><li>resolve glob expressions in backup sources (#63)</li></ul><h2 id=changelog-23>Changelog</h2><ul><li><a href=https://github.com/creativeprojects/resticprofile/commit/abf0b00 rel=external target=_blank>Add support for prometheus export and push (#57)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/37a69d7 rel=external target=_blank>Added &ldquo;{{.TmpDir}}&rdquo; to TemplateData (#62)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/8218e70 rel=external target=_blank>Feature: Hide confidential values in output (#58)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/0be5d5f rel=external target=_blank>Resolve glob expressions in backup sources (#63)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/8cc2574 rel=external target=_blank>Shell escape (#60)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/34f693c rel=external target=_blank>Update non-confidential values to support shell.Args (#68)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/0841959 rel=external target=_blank>add Hostname pre-defined variable to template resolver (#55)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/f58116b rel=external target=_blank>add description field in profile section</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/0f9b21e rel=external target=_blank>build with go 1.17</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/16308e9 rel=external target=_blank>don&rsquo;t send status summary in dry-run</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/88052c6 rel=external target=_blank>show description in output of profiles command</a></li></ul><h2 id=docker-images-1>Docker images</h2><ul><li><code>docker pull creativeprojects/resticprofile:0.15.0</code></li></ul><h1 id=v0141-2021-06-23>v0.14.1 (2021-06-23)</h1><h2 id=bug-fix-release>Bug fix release</h2><p>This release changes the way the restic binary is searched:</p><ul><li>restic binary path in <code>global</code> configuration can now contain the <code>~</code> character like <code>~restic/bin/restic</code></li><li>if you specified a path in the <code>global</code> configuration and it cannot find the file, a warning will be displayed and resticprofile will keep trying to find a suitable binary</li></ul><h2 id=changelog-24>Changelog</h2><ul><li><a href=https://github.com/creativeprojects/resticprofile/commit/4686dd2 rel=external target=_blank>use shell to resolve special paths with ~</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/823304a rel=external target=_blank>warning when the restic-binary was not found</a></li></ul><h2 id=docker-images-2>Docker images</h2><ul><li><code>docker pull creativeprojects/resticprofile:0.14.1</code></li></ul><h1 id=v0140-2021-05-11>v0.14.0 (2021-05-11)</h1><h2 id=release-0140>Release 0.14.0</h2><ul><li>New locking/unlocking features. Thanks <code>jkellerer</code> for the PR</li></ul><h2 id=changelog-25>Changelog</h2><ul><li><a href=https://github.com/creativeprojects/resticprofile/commit/331b710 rel=external target=_blank>Added resticprofile flags &ndash;no-lock & &ndash;lock-wait (#33)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/7fc5b3a rel=external target=_blank>Summary from plain output when not run in terminal (#48)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/b7edeb5 rel=external target=_blank>Updated contrib script systemd/send-error.sh (#49)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/fa42cf2 rel=external target=_blank>add macOS arm64 target to install.sh script</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/a87f76d rel=external target=_blank>add token as an environment variable</a></li></ul><h2 id=docker-images-3>Docker images</h2><ul><li><code>docker pull creativeprojects/resticprofile:latest</code></li><li><code>docker pull creativeprojects/resticprofile:0.14.0</code></li></ul><h1 id=v0132-2021-04-20>v0.13.2 (2021-04-20)</h1><p>This version fixes a defect where extended status wasn&rsquo;t returning the extended information on Windows.</p><h2 id=changelog-26>Changelog</h2><ul><li><a href=https://github.com/creativeprojects/resticprofile/commit/cab8909 rel=external target=_blank>add Homebrew Tap (#45)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/794f404 rel=external target=_blank>add github token in config</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/5e06dbd rel=external target=_blank>fix test too slow on build agent</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/2f79a46 rel=external target=_blank>fix windows bogus prefix (#47)</a></li></ul><h2 id=docker-images-4>Docker images</h2><ul><li><code>docker pull creativeprojects/resticprofile:latest</code></li><li><code>docker pull creativeprojects/resticprofile:0.13.2</code></li></ul><h1 id=v0131-2021-03-26>v0.13.1 (2021-03-26)</h1><p>Bug fix:</p><ul><li>regression from v0.13.0: a message was sent to stderr when <code>initialize</code> parameter was set and the repository already exists</li></ul><h2 id=changelog-27>Changelog</h2><ul><li><a href=https://github.com/creativeprojects/resticprofile/commit/02e6414 rel=external target=_blank>Increase test coverage (#40)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/d64dc4f rel=external target=_blank>fix #41: a message was sent to stderr when parameter initialize=true and repo exists</a></li></ul><h2 id=docker-images-5>Docker images</h2><ul><li><code>docker pull creativeprojects/resticprofile:latest</code></li><li><code>docker pull creativeprojects/resticprofile:0.13.1</code></li></ul><h1 id=v0130-2021-03-24>v0.13.0 (2021-03-24)</h1><p>This version adds two new features:</p><ul><li>parameter <code>no-error-on-warning</code> to consider a backup successful when restic produced a new snapshot but some files were missing (<a href=https://github.com/creativeprojects/resticprofile/discussions/38 rel=external target=_blank>https://github.com/creativeprojects/resticprofile/discussions/38</a>)</li><li>resticprofile now catches the error output (stderr) to be written in the status file, also makes the environment variable <code>RESTIC_STDERR</code> available to the targets <code>run-after-fail</code>.</li></ul><h2 id=changelog-28>Changelog</h2><ul><li><a href=https://github.com/creativeprojects/resticprofile/commit/8968e33 rel=external target=_blank>add RESTIC_STDERR env variable to run-after-fail</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/6b7dea4 rel=external target=_blank>quick implementation of ignore warning</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/833d24d rel=external target=_blank>quick mock to do some testing with a fake restic</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/3c54cc6 rel=external target=_blank>returns stderr output in the status file</a></li></ul><h2 id=docker-images-6>Docker images</h2><ul><li><code>docker pull creativeprojects/resticprofile:latest</code></li><li><code>docker pull creativeprojects/resticprofile:0.13.0</code></li></ul><h1 id=v0120-2021-03-18>v0.12.0 (2021-03-18)</h1><p>This release mainly brings 2 new features and a few enhancements:</p><ul><li>add support for <code>--all</code> in <code>status</code>, <code>schedule</code>, <code>unschedule</code> commands</li><li>add backup statistics to the status file (via a new <code>extended-status</code> flag)</li></ul><h2 id=changelog-29>Changelog</h2><ul><li><a href=https://github.com/creativeprojects/resticprofile/commit/237a87f rel=external target=_blank>Add backup statistics in status file (#36)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/6622a39 rel=external target=_blank>Added fail env variable ERROR_COMMANDLINE (#32)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/0887354 rel=external target=_blank>Added support for &ndash;all to status & (un)schedule (#31)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/16e6c19 rel=external target=_blank>Enhanced &ldquo;unschedule&rdquo; to remove all possible jobs (#28)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/47489a2 rel=external target=_blank>add profile name when running status &ndash;all</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/01ae05a rel=external target=_blank>fix an issue where status &ndash;all was stopping at the first profile with no schedule</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/f50131b rel=external target=_blank>update goreleaser config to v0.154</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/c700d60 rel=external target=_blank>upgrade packages</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/4569f0d rel=external target=_blank>upgrade self-update library</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/7eb663d rel=external target=_blank>use go 1.16</a></li></ul><h2 id=docker-images-7>Docker images</h2><ul><li><code>docker pull creativeprojects/resticprofile:latest</code></li><li><code>docker pull creativeprojects/resticprofile:0.12.0</code></li></ul><h1 id=v0110-2021-01-20>v0.11.0 (2021-01-20)</h1><h2 id=highlights>Highlights:</h2><ul><li>detect systemd using <code>systemctl</code>: <a href=https://github.com/creativeprojects/resticprofile/issues/25 rel=external target=_blank>https://github.com/creativeprojects/resticprofile/issues/25</a></li><li>add <strong>experimental</strong> support for scheduling tasks with <strong>crond</strong></li><li>add support for background tasks on Mac OS via a new <code>schedule-priority</code> parameter</li><li>add support for scheduling <code>forget</code> and <code>prune</code> commands</li></ul><h2 id=deprecation>Deprecation</h2><p>Scheduling in the <code>retention</code> section is now deprecated, please use the <code>forget</code> section instead (<a href=https://github.com/creativeprojects/resticprofile/issues/23 rel=external target=_blank>https://github.com/creativeprojects/resticprofile/issues/23</a>)</p><h2 id=changelog-30>Changelog</h2><ul><li><a href=https://github.com/creativeprojects/resticprofile/commit/be72758 rel=external target=_blank>Add background types and low priorityIO to launchd plist (#19)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/d0de636 rel=external target=_blank>Add support for scheduling forget (#26)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/ec02310 rel=external target=_blank>Added prune as supported, schedulable command (#24)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/8f48acf rel=external target=_blank>Move CI build from Travis CI to GitHub Actions</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/2e1564a rel=external target=_blank>Refactoring schedule package (#30)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/8fd7a2e rel=external target=_blank>Schedule priority (#29)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/b8c3e6a rel=external target=_blank>add crond support to unix targets (except macOS)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/3e93f45 rel=external target=_blank>add deprecation notice for schedule on retention</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/4b815f2 rel=external target=_blank>add docker build to goreleaser</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/5830a34 rel=external target=_blank>add pre-release parameter to self-update</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/a8939ed rel=external target=_blank>add schedule-priority parameter</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/641dc91 rel=external target=_blank>add working directory to crontab line</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/08141a3 rel=external target=_blank>allow verbose flag after the command</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/2a6b0c0 rel=external target=_blank>display systemd timer status in a nicer way also display log >= &ldquo;warning&rdquo; instead of &ldquo;err&rdquo;</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/a19f124 rel=external target=_blank>move other-flags before the sub-sections</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/967c4a8 rel=external target=_blank>refactor show command to remove empty lines</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/6544052 rel=external target=_blank>search for systemctl instead of systemd</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/c406e80 rel=external target=_blank>upgrade clog package</a></li></ul><h2 id=docker-images-8>Docker images</h2><ul><li><code>docker pull creativeprojects/resticprofile:latest</code></li><li><code>docker pull creativeprojects/resticprofile:0.11.0</code></li></ul><h1 id=v0101-2020-11-17>v0.10.1 (2020-11-17)</h1><p>This update changes the way systemd units are generated:
These used to be of type <code>oneshot</code> but it means they can be started more than once.
They have been changed to <code>notify</code> which is like <code>simple</code> but resticprofile is notifying systemd that the schedule has started and stopped.</p><p>To change the type on your existing schedules, you&rsquo;ll need to run the commands <code>unschedule</code> and <code>schedule</code> again.</p><h2 id=changelog-31>Changelog</h2><ul><li><a href=https://github.com/creativeprojects/resticprofile/commit/ba711f2 rel=external target=_blank>change systemd unit to &ldquo;notify&rdquo;</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/9f2edb8 rel=external target=_blank>update packages verify self-update binary using checksums.txt file</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/cff661b rel=external target=_blank>update restic to 0.11.0 in docker image</a></li></ul><h1 id=v0100-2020-11-12>v0.10.0 (2020-11-12)</h1><p>New resticprofile version with bug fixes and a big new feature:</p><ul><li>fix &ndash;exclude and &ndash;iexclude parameters in unix environment not properly escaping <code>?</code> and <code>*</code> characters</li><li>don&rsquo;t escape <code></code>(space) if already escaped</li><li>self-update now works on ARM CPUs (like raspberry pi)</li><li>configuration files can embed Go templates for modularity</li></ul><p>I think it is now feature complete for a version 1.0 😄</p><h2 id=changelog-32>Changelog</h2><ul><li><a href=https://github.com/creativeprojects/resticprofile/commit/e2047e0 rel=external target=_blank>Escape <code>exclude</code> globs passed to <code>/sh</code></a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/be97fae rel=external target=_blank>add proper character escaping: - count the number of \ in front - do not escape it again if it was already escaped</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/b30cbe5 rel=external target=_blank>change self-updater library to work with ARM cpus</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/8d95c1e rel=external target=_blank>detect arm version from runtime internal register</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/c9b0c34 rel=external target=_blank>new version of the updater</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/604da32 rel=external target=_blank>put armv7 target back</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/836cbae rel=external target=_blank>squash merge of branch config-single-template: add templating and variable expansion</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/f177173 rel=external target=_blank>upgrade clog package</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/48cf85e rel=external target=_blank>upgrade selfupdate package</a></li></ul><h1 id=v092-2020-11-02>v0.9.2 (2020-11-02)</h1><p>A few minor features and bug fixes:</p><ul><li>add version command</li><li>add force-inactive-lock flag in profiles</li></ul><h2 id=changelog-33>Changelog</h2><ul><li><a href=https://github.com/creativeprojects/resticprofile/commit/ca6ff07 rel=external target=_blank>Add &ldquo;option&rdquo; in example configurations in README and azure.conf fixes https://github.com/creativeprojects/resticprofile/issues/13</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/06f98e9 rel=external target=_blank>Add version command</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/f3aa7b9 rel=external target=_blank>add tests on set and get PID from lock file</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/cd10c9d rel=external target=_blank>remove openbsd from goreleaser library github.com/shirou/gopsutil cannot be compiled for openbsd</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/8c07f35 rel=external target=_blank>squash merge of branch pid: should fix https://github.com/creativeprojects/resticprofile/issues/14</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/618be92 rel=external target=_blank>use go 1.15 for ci builds</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/94f0ef1 rel=external target=_blank>write down child PIDs in lock file</a></li></ul><h1 id=v091-2020-08-03>v0.9.1 (2020-08-03)</h1><p>Two new features in this release:</p><ul><li>add a few environment variables when running scripts (<code>run-before</code>, <code>run-after</code>, <code>run-after-fail</code>)</li><li>add a status file generated after running a profile (to send to some monitoring software)</li></ul><h2 id=changelog-34>Changelog</h2><ul><li><a href=https://github.com/creativeprojects/resticprofile/commit/58ecde0 rel=external target=_blank>Merge branch run-after-fail</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/05afb52 rel=external target=_blank>merge from branch status-file</a></li></ul><h1 id=v090-2020-07-29>v0.9.0 (2020-07-29)</h1><p>A few new big features in this release:</p><ul><li>add <code>--dry-run</code> flag</li><li>redirect console to a file with <code>--log</code> (for running in the background)</li><li>generate random keys with <code>generate-random</code> command</li><li>schedule/unschedule profiles automatically with command <code>schedule</code>/<code>unschedule</code> (also <code>status</code> to check a scheduled task)</li></ul><h2 id=changelog-35>Changelog</h2><ul><li><a href=https://github.com/creativeprojects/resticprofile/commit/c0c067e rel=external target=_blank>add SUDO_USER to systemd environment</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/67e24a4 rel=external target=_blank>add dry-run flag</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/b31c4cf rel=external target=_blank>add file logger</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/ef87550 rel=external target=_blank>add journalctl to status output</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/ba9d132 rel=external target=_blank>add schedule documentation to README</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/db4fd20 rel=external target=_blank>add schedule parameter in config</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/05d0308 rel=external target=_blank>add windows task scheduler</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/2a03874 rel=external target=_blank>create plist file for darwin</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/b1c12ab rel=external target=_blank>create system job on darwin</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/c73ccb3 rel=external target=_blank>full implementation of systemd user unit</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/fce69a1 rel=external target=_blank>generate random keys</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/5ddecf0 rel=external target=_blank>generate schedule for darwin</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/4647e6e rel=external target=_blank>implement schedule-log</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/631038d rel=external target=_blank>move logger into external package</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/43e7f81 rel=external target=_blank>only ask for the user password once</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/af04717 rel=external target=_blank>redirect terminal when elevated mode</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/b049747 rel=external target=_blank>send message from elevated process to parent process via some simple http calls</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/106ea1b rel=external target=_blank>send terminal output remotely</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/fbac6f4 rel=external target=_blank>sudo trick in the example configuration</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/0465a19 rel=external target=_blank>system daemon with launchd</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/8538fce rel=external target=_blank>systemd user/system</a></li></ul><h1 id=v083-2020-07-13>v0.8.3 (2020-07-13)</h1><p>Bug fixing release:</p><ul><li>restic flags were not generated for commands <code>forget</code> and <code>mount</code> <a href=https://github.com/creativeprojects/resticprofile/issues/9 rel=external target=_blank>https://github.com/creativeprojects/resticprofile/issues/9</a></li></ul><h2 id=changelog-36>Changelog</h2><ul><li><a href=https://github.com/creativeprojects/resticprofile/commit/4e08c7b rel=external target=_blank>add restic flags for forget and mount commands</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/74d36fe rel=external target=_blank>add test to verify forget flags are loaded for all configuration types</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/4b1d937 rel=external target=_blank>version 0.8.3</a></li></ul><h1 id=v082-2020-07-09>v0.8.2 (2020-07-09)</h1><p>This is a bug fixing release:</p><ul><li>in the configuration file, some strings containing a comma were split into an array of strings. This is now fixed.</li></ul><h2 id=changelog-37>Changelog</h2><ul><li><a href=https://github.com/creativeprojects/resticprofile/commit/7a7836f rel=external target=_blank>add table of contents</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/0bf1400 rel=external target=_blank>build 0.8.2</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/1ecc090 rel=external target=_blank>document new features in README</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/e2f1d8e rel=external target=_blank>remove armv7 packages from goreleaser</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/3183207 rel=external target=_blank>remove default decode hooks (which can do funny things with tags)</a></li></ul><h1 id=v081-2020-07-02>v0.8.1 (2020-07-02)</h1><p>This is mostly a bug fixing release:</p><ul><li>allow for spaces in directories and files (these were ignored before and were messing up the command line)</li><li>add a <code>show</code> command to see the profile details (mostly for debugging really)</li><li>add a <code>--format</code> flag to specify the type of configuration file format (if you want to use a different extension)</li></ul><h2 id=changelog-38>Changelog</h2><ul><li><a href=https://github.com/creativeprojects/resticprofile/commit/d2ebc7b rel=external target=_blank>add &ndash;format flag to specify the config format</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/85a5d59 rel=external target=_blank>add command &lsquo;show&rsquo; to display profile properties</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/b3349bc rel=external target=_blank>add show command to help</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/3ac1afa rel=external target=_blank>allow spaces in directories and files</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/52c74cd rel=external target=_blank>change expected structure in unit tests</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/1006fcf rel=external target=_blank>display correct XDG directories in error message</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/98706fb rel=external target=_blank>update dependencies</a></li></ul><h1 id=v080-2020-06-29>v0.8.0 (2020-06-29)</h1><p>This version is introducing a few new features:</p><ul><li>experimental support for HCL configuration files</li><li>a configuration file with no extension is searched using all supported file extensions: <code>-c profiles</code> would either load profiles.conf, profiles.yaml, profiles.toml, profiles.json or profiles.hcl</li><li>a new global parameter to check available memory before starting a profile (default is 100MB)</li></ul><h2 id=changelog-39>Changelog</h2><ul><li><a href=https://github.com/creativeprojects/resticprofile/commit/d74a5d6 rel=external target=_blank>Initial support for HCL configuration file</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/1e645e2 rel=external target=_blank>Refactoring y/n question</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/4aa7bcb rel=external target=_blank>add OS & ARCH to panic data</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/5e417b3 rel=external target=_blank>add missing build info to docker image</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/254377b rel=external target=_blank>add note with self-updating on linux/arm</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/b1a7674 rel=external target=_blank>add safeguard to prevent running restic when memory is running low: &ldquo;min-memory&rdquo; in &ldquo;global&rdquo;</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/e10a2ab rel=external target=_blank>add section on where to locate configuration file</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/8c548bf rel=external target=_blank>bump version</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/742f6dd rel=external target=_blank>example of configuration in HCL</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/69a4385 rel=external target=_blank>refactor configuration as a dependency as opposed to a global</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/8efe9c4 rel=external target=_blank>search for configuration file without an extension resticprofile will load the first file with a valid extension (conf, yaml, toml, json, hcl)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/428fdb8 rel=external target=_blank>update xdg paths in documentation</a></li></ul><h1 id=v071-2020-06-25>v0.7.1 (2020-06-25)</h1><p>This a maintenance release:</p><ul><li>add a new parameter <code>run-after-fail</code> which is running the shell commands after any kind of failure (during other commands or during restic execution)</li><li>a minor breaking change if you use the repository auto-initialization, it will now run <strong>after</strong> the <code>run-before</code> scripts. It makes more sense this way (in case you mount your backup disks in <code>run-before</code> for example)</li></ul><h2 id=changelog-40>Changelog</h2><ul><li><a href=https://github.com/creativeprojects/resticprofile/commit/2321bf9 rel=external target=_blank>add raspberry pi to supported platforms</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/1efeb81 rel=external target=_blank>add run-after-fail parameter to run shell commands after a restic command failed. the auto initialization of a repository now happens after the &ldquo;run-before&rdquo; scripts (in version 0.7.0 it was happening before)</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/80ddc06 rel=external target=_blank>detect panic and display a nice message asking the user to post details on github</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/9ca91d0 rel=external target=_blank>fix self-update not working on windows</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/d32c172 rel=external target=_blank>run self-update command with no configuration file</a></li></ul><h1 id=v070-2020-06-24>v0.7.0 (2020-06-24)</h1><p>This is a maintenance release:</p><ul><li>fixing a defect when starting a backup with no command definition for backup</li><li>adding two new options to run scripts before and after a profile (not just backup like before)</li><li>implementation of a new module to create systemd units. More to come on future releases</li></ul><h2 id=changelog-41>Changelog</h2><ul><li><a href=https://github.com/creativeprojects/resticprofile/commit/a8ff142 rel=external target=_blank>Bump up version</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/b499f76 rel=external target=_blank>Fix update confirmation message</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/d71f45f rel=external target=_blank>Refactoring resticprofile commands</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/ab527c0 rel=external target=_blank>add goreleaser target to build for raspberry pi</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/744ac5b rel=external target=_blank>initial support for systemd</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/88cb74f rel=external target=_blank>run shell commands before and after a profile. In previous versions, you could only run commands before and after a backup</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/c4c8d9a rel=external target=_blank>stop creating empty configuration file at XDG config location</a></li></ul><h1 id=v061-2020-04-22>v0.6.1 (2020-04-22)</h1><h2 id=changelog-42>Changelog</h2><ul><li><a href=https://github.com/creativeprojects/resticprofile/commit/b17b23c rel=external target=_blank>Activate self-update flag</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/713e429 rel=external target=_blank>Add .tar.gz binary for mac os</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/4c4c0d8 rel=external target=_blank>Build tar.gz for windows so we can download it from git bash</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/a2fe661 rel=external target=_blank>Clean up lock file after pressing CTRL-C</a></li><li><a href=https://github.com/creativeprojects/resticprofile/commit/2a76a04 rel=external target=_blank>Fix nil pointer panic when retention not defined</a></li></ul><h1 id=v060-2020-04-07>v0.6.0 (2020-04-07)</h1><p>Complete rewrite of resticprofile in go:</p><ul><li>I tried python and I wasn&rsquo;t particularly impressed</li><li>I tried go and I loved it (also that&rsquo;s what all the cool kids do nowadays)</li></ul><p>The default configuration <code>profiles.conf</code> is still expected to be in TOML format. But now, resticprofile also supports YAML and JSON file format. Simply feed a <code>.toml</code>, <code>.json</code> or a <code>.yaml</code> file to select the desired format.</p><p>The configuration file from the previous versions remains unchanged. There are two additions to it:</p><ul><li><code>priority</code> flags: acts like <code>nice</code> on unixes and now available on <strong>all</strong> platforms</li><li><code>lock</code> flag to avoid running two profiles at the same time (this is a <em>local</em> lock)</li></ul><h1 id=v052-2019-09-26>v0.5.2 (2019-09-26)</h1><p>Accept a repository from the environment instead of the configuration file</p><h1 id=v051-2019-08-12>v0.5.1 (2019-08-12)</h1><ul><li>Add a timestamp before each message</li><li>Use colours more readable on light console</li><li>Add a flag to disable all ansi characters (to redirect the output to a file)</li></ul><h1 id=v050-2019-06-26>v0.5.0 (2019-06-26)</h1><p>Adds support for stdin file stream</p><h1 id=v041-beta-2019-06-26>v0.4.1 Beta (2019-06-26)</h1><ul><li>Adding &lsquo;mount&rsquo; command support</li><li>Allow chained inheritance of environment variables</li><li>Allow inheritance on &lsquo;retention&rsquo; section</li></ul><h1 id=v040-beta-2019-06-25>v0.4.0 Beta (2019-06-25)</h1><ul><li>Removing ugly KeyboardInterrupt message when you hit CTRL-C</li><li>Allow the host flag to be a boolean (if set to yes the current hostname will be used)</li><li>Also search for restic binary under Windows (like the chocolatey bin folder)</li><li>Adding two options to check repository before and/or after a backup: &lsquo;check-before&rsquo; and &lsquo;check-after&rsquo;</li><li>Run shell commands before and after a backup: &lsquo;run-before&rsquo; and &lsquo;run-after&rsquo;</li></ul><h1 id=v030-beta-2019-06-24>v0.3.0 Beta (2019-06-24)</h1><ul><li>Added &ldquo;groups&rdquo;: ability to define groups of profiles to run at once</li></ul><h1 id=v020-beta-2019-06-24>v0.2.0 Beta (2019-06-24)</h1><ul><li>Fixed compatibility with Windows</li><li>Fixed defect in profile inheritance</li></ul><h1 id=v010-beta-2019-06-24>v0.1.0 Beta (2019-06-24)</h1><p>First &lsquo;usable&rsquo; version of resticprofile!</p><p><strong>Please note the groups are not working yet</strong>
(groups can run multiple configuration in one command)</p><footer class=footline></footer></article></div></main></div><aside id=R-sidebar class=default-animation><div id=R-header-topbar class=default-animation></div><div id=R-header-wrapper class=default-animation><div id=R-header class=default-animation><style>a#R-logo{display:flex;align-items:center;transition:opacity .3s ease}a#R-logo img{max-width:min(40%,100px);height:auto;margin-right:10px}@media(max-width:768px){a#R-logo img{max-width:30%}}a#R-logo span{display:flex;flex-direction:column;color:inherit;text-decoration:none}a#R-logo .restic{font-weight:700}</style><a id=R-logo class=R-default href=https://creativeprojects.github.io/resticprofile/index.html><img src=https://creativeprojects.github.io/resticprofile/images/logo.png alt="ResticProfile Logo">
<span><span class=restic>Restic</span>
<span class=profile>Profile</span></span></a></div><search><form action=https://creativeprojects.github.io/resticprofile/search/index.html method=get><div class="searchbox default-animation"><button class=search-detail type=submit title="Search (CTRL+ALT+f)"><i class="fas fa-search"></i></button>
<label class=a11y-only for=R-search-by>Search</label>
<input data-search-input id=R-search-by name=search-by class=search-by type=search placeholder=Search...>
<button class=search-clear type=button data-search-clear title="Clear search"><i class="fas fa-times" title="Clear search"></i></button></div></form></search></div><div id=R-homelinks class="default-animation homelinks"><div class="R-menu-divider default-animation"><hr class=padding></div><div class="R-sidebarmenu R-shortcutmenu-homelinks"><ul class="space collapsible-menu"><li data-nav-id=/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/index.html><i class="fa-fw fas fa-home"></i> Home</a></li></ul></div><div class="R-menu-divider default-animation"><hr class=padding></div><div class="R-sidebarmenu R-shortcutmenu-headercontrols"><ul></ul></div><div class="R-menu-divider default-animation"><hr class=padding></div></div><div id=R-content-wrapper class=highlightable><div class="R-sidebarmenu R-shortcutmenu-home"><ul class="enlarge morespace collapsible-menu"><li data-nav-id=/installation/index.html><input type=checkbox id=R-section-ff749ccaab053548f690f97bcd6daed0 aria-controls=R-subsections-ff749ccaab053548f690f97bcd6daed0><label for=R-section-ff749ccaab053548f690f97bcd6daed0><i class="fa-fw fas fa-chevron-right"></i><span class=a11y-only>Submenu Installation</span></label><a class=padding href=https://creativeprojects.github.io/resticprofile/installation/index.html><b>1. </b>Installation</a><ul id=R-subsections-ff749ccaab053548f690f97bcd6daed0 class=collapsible-menu><li data-nav-id=/installation/binaries/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/installation/binaries/index.html>Pre-built binaries</a></li><li data-nav-id=/installation/linux/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/installation/linux/index.html>Linux</a></li><li data-nav-id=/installation/macosx/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/installation/macosx/index.html>mac OS</a></li><li data-nav-id=/installation/windows/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/installation/windows/index.html>Windows</a></li><li data-nav-id=/installation/ansible/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/installation/ansible/index.html>Ansible</a></li><li data-nav-id=/installation/source/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/installation/source/index.html>Source</a></li><li data-nav-id=/installation/upgrade/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/installation/upgrade/index.html>Upgrade</a></li><li data-nav-id=/installation/docker/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/installation/docker/index.html>Docker</a></li><li data-nav-id=/installation/shell/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/installation/shell/index.html>Shell Completion</a></li></ul></li><li data-nav-id=/configuration/index.html><input type=checkbox id=R-section-6f6dce359ca8d596b5b1de1969a0aca2 aria-controls=R-subsections-6f6dce359ca8d596b5b1de1969a0aca2><label for=R-section-6f6dce359ca8d596b5b1de1969a0aca2><i class="fa-fw fas fa-chevron-right"></i><span class=a11y-only>Submenu Configuration file</span></label><a class=padding href=https://creativeprojects.github.io/resticprofile/configuration/index.html><b>2. </b>Configuration file</a><ul id=R-subsections-6f6dce359ca8d596b5b1de1969a0aca2 class=collapsible-menu><li data-nav-id=/configuration/getting_started/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/configuration/getting_started/index.html>Getting Started</a></li><li data-nav-id=/configuration/examples/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/configuration/examples/index.html>Examples</a></li><li data-nav-id=/configuration/path/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/configuration/path/index.html>Path</a></li><li data-nav-id=/configuration/include/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/configuration/include/index.html>Includes</a></li><li data-nav-id=/configuration/inheritance/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/configuration/inheritance/index.html>Inheritance</a></li><li data-nav-id=/configuration/copy/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/configuration/copy/index.html>Copy command</a></li><li data-nav-id=/configuration/run_hooks/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/configuration/run_hooks/index.html>Command Hooks</a></li><li data-nav-id=/configuration/http_hooks/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/configuration/http_hooks/index.html>HTTP Hooks</a></li><li data-nav-id=/configuration/templates/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/configuration/templates/index.html>Templates</a></li><li data-nav-id=/configuration/variables/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/configuration/variables/index.html>Variables</a></li><li data-nav-id=/configuration/warnings/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/configuration/warnings/index.html>Warnings</a></li><li data-nav-id=/configuration/priority/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/configuration/priority/index.html>Priority</a></li><li data-nav-id=/configuration/sleep/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/configuration/sleep/index.html>Preventing system sleep</a></li><li data-nav-id=/configuration/logs/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/configuration/logs/index.html>Logs</a></li><li data-nav-id=/configuration/jsonschema/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/configuration/jsonschema/index.html>JSON schema</a></li><li data-nav-id=/configuration/v2/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/configuration/v2/index.html>Configuration v2 proposal</a></li></ul></li><li data-nav-id=/usage/index.html><input type=checkbox id=R-section-62f9042a23780ab51a3b699210e86d03 aria-controls=R-subsections-62f9042a23780ab51a3b699210e86d03><label for=R-section-62f9042a23780ab51a3b699210e86d03><i class="fa-fw fas fa-chevron-right"></i><span class=a11y-only>Submenu Using resticprofile</span></label><a class=padding href=https://creativeprojects.github.io/resticprofile/usage/index.html><b>3. </b>Using resticprofile</a><ul id=R-subsections-62f9042a23780ab51a3b699210e86d03 class=collapsible-menu><li data-nav-id=/usage/version/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/usage/version/index.html>Version</a></li><li data-nav-id=/usage/keyfile/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/usage/keyfile/index.html>Generate a Keyfile</a></li><li data-nav-id=/usage/memory/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/usage/memory/index.html>Memory</a></li><li data-nav-id=/usage/locks/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/usage/locks/index.html>Locks</a></li></ul></li><li data-nav-id=/schedules/index.html><input type=checkbox id=R-section-5d098b05363f64ff2ba3671d78edad9c aria-controls=R-subsections-5d098b05363f64ff2ba3671d78edad9c><label for=R-section-5d098b05363f64ff2ba3671d78edad9c><i class="fa-fw fas fa-chevron-right"></i><span class=a11y-only>Submenu Schedules</span></label><a class=padding href=https://creativeprojects.github.io/resticprofile/schedules/index.html><b>4. </b>Schedules</a><ul id=R-subsections-5d098b05363f64ff2ba3671d78edad9c class=collapsible-menu><li data-nav-id=/schedules/configuration/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/schedules/configuration/index.html>Schedule Configuration</a></li><li data-nav-id=/schedules/commands/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/schedules/commands/index.html>Schedule Commands</a></li><li data-nav-id=/schedules/examples/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/schedules/examples/index.html>Schedule Examples</a></li><li data-nav-id=/schedules/systemd/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/schedules/systemd/index.html>Systemd</a></li><li data-nav-id=/schedules/launchd/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/schedules/launchd/index.html>Launchd on macOS</a></li><li data-nav-id=/schedules/task_scheduler/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/schedules/task_scheduler/index.html>Windows Task Scheduler</a></li><li data-nav-id=/schedules/cron/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/schedules/cron/index.html>Cron & compatible</a></li><li data-nav-id=/schedules/non-root-schedule-in-container/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/schedules/non-root-schedule-in-container/index.html>User schedule in container</a></li></ul></li><li data-nav-id=/monitoring/index.html><input type=checkbox id=R-section-a0e069e6fac7784c30d45b70837f6ac6 aria-controls=R-subsections-a0e069e6fac7784c30d45b70837f6ac6><label for=R-section-a0e069e6fac7784c30d45b70837f6ac6><i class="fa-fw fas fa-chevron-right"></i><span class=a11y-only>Submenu Monitoring</span></label><a class=padding href=https://creativeprojects.github.io/resticprofile/monitoring/index.html><b>5. </b>Monitoring</a><ul id=R-subsections-a0e069e6fac7784c30d45b70837f6ac6 class=collapsible-menu><li data-nav-id=/monitoring/status/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/monitoring/status/index.html>Status file</a></li><li data-nav-id=/monitoring/prometheus/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/monitoring/prometheus/index.html>Prometheus</a></li></ul></li><li data-nav-id=/reference/index.html><input type=checkbox id=R-section-66002f201bef818664bb81aa67490c58 aria-controls=R-subsections-66002f201bef818664bb81aa67490c58><label for=R-section-66002f201bef818664bb81aa67490c58><i class="fa-fw fas fa-chevron-right"></i><span class=a11y-only>Submenu Reference</span></label><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/index.html><b>6. </b>Reference</a><ul id=R-subsections-66002f201bef818664bb81aa67490c58 class=collapsible-menu><li data-nav-id=/reference/global/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/global/index.html>Section global</a></li><li data-nav-id=/reference/profile/index.html><input type=checkbox id=R-section-2b27328718862c5708b95d5e4972db36 aria-controls=R-subsections-2b27328718862c5708b95d5e4972db36><label for=R-section-2b27328718862c5708b95d5e4972db36><i class="fa-fw fas fa-chevron-right"></i><span class=a11y-only>Submenu Section Profile</span></label><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/index.html>Section Profile</a><ul id=R-subsections-2b27328718862c5708b95d5e4972db36 class=collapsible-menu><li data-nav-id=/reference/profile/backup/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/backup/index.html>backup</a></li><li data-nav-id=/reference/profile/cache/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/cache/index.html>cache</a></li><li data-nav-id=/reference/profile/cat/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/cat/index.html>cat</a></li><li data-nav-id=/reference/profile/check/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/check/index.html>check</a></li><li data-nav-id=/reference/profile/copy/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/copy/index.html>copy</a></li><li data-nav-id=/reference/profile/diff/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/diff/index.html>diff</a></li><li data-nav-id=/reference/profile/dump/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/dump/index.html>dump</a></li><li data-nav-id=/reference/profile/features/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/features/index.html>features</a></li><li data-nav-id=/reference/profile/find/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/find/index.html>find</a></li><li data-nav-id=/reference/profile/forget/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/forget/index.html>forget</a></li><li data-nav-id=/reference/profile/init/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/init/index.html>init</a></li><li data-nav-id=/reference/profile/key/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/key/index.html>key</a></li><li data-nav-id=/reference/profile/key-add/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/key-add/index.html>key-add</a></li><li data-nav-id=/reference/profile/key-list/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/key-list/index.html>key-list</a></li><li data-nav-id=/reference/profile/key-passwd/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/key-passwd/index.html>key-passwd</a></li><li data-nav-id=/reference/profile/key-remove/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/key-remove/index.html>key-remove</a></li><li data-nav-id=/reference/profile/list/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/list/index.html>list</a></li><li data-nav-id=/reference/profile/ls/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/ls/index.html>ls</a></li><li data-nav-id=/reference/profile/migrate/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/migrate/index.html>migrate</a></li><li data-nav-id=/reference/profile/mount/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/mount/index.html>mount</a></li><li data-nav-id=/reference/profile/options/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/options/index.html>options</a></li><li data-nav-id=/reference/profile/prune/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/prune/index.html>prune</a></li><li data-nav-id=/reference/profile/rebuild-index/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/rebuild-index/index.html>rebuild-index</a></li><li data-nav-id=/reference/profile/recover/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/recover/index.html>recover</a></li><li data-nav-id=/reference/profile/repair/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/repair/index.html>repair</a></li><li data-nav-id=/reference/profile/repair-index/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/repair-index/index.html>repair-index</a></li><li data-nav-id=/reference/profile/repair-packs/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/repair-packs/index.html>repair-packs</a></li><li data-nav-id=/reference/profile/repair-snapshots/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/repair-snapshots/index.html>repair-snapshots</a></li><li data-nav-id=/reference/profile/restore/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/restore/index.html>restore</a></li><li data-nav-id=/reference/profile/retention/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/retention/index.html>retention</a></li><li data-nav-id=/reference/profile/rewrite/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/rewrite/index.html>rewrite</a></li><li data-nav-id=/reference/profile/snapshots/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/snapshots/index.html>snapshots</a></li><li data-nav-id=/reference/profile/stats/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/stats/index.html>stats</a></li><li data-nav-id=/reference/profile/tag/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/tag/index.html>tag</a></li><li data-nav-id=/reference/profile/unlock/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/profile/unlock/index.html>unlock</a></li></ul></li><li data-nav-id=/reference/nested/index.html><input type=checkbox id=R-section-8e740c11fa05d6c23f17ed19569e00ae aria-controls=R-subsections-8e740c11fa05d6c23f17ed19569e00ae><label for=R-section-8e740c11fa05d6c23f17ed19569e00ae><i class="fa-fw fas fa-chevron-right"></i><span class=a11y-only>Submenu Nested Sections</span></label><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/nested/index.html>Nested Sections</a><ul id=R-subsections-8e740c11fa05d6c23f17ed19569e00ae class=collapsible-menu><li data-nav-id=/reference/nested/schedulebaseconfig/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/nested/schedulebaseconfig/index.html>ScheduleBaseConfig</a></li><li data-nav-id=/reference/nested/scheduleconfig/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/nested/scheduleconfig/index.html>ScheduleConfig</a></li><li data-nav-id=/reference/nested/sendmonitoringheader/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/nested/sendmonitoringheader/index.html>SendMonitoringHeader</a></li><li data-nav-id=/reference/nested/sendmonitoringsection/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/nested/sendmonitoringsection/index.html>SendMonitoringSection</a></li><li data-nav-id=/reference/nested/streamerrorsection/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/nested/streamerrorsection/index.html>StreamErrorSection</a></li></ul></li><li data-nav-id=/reference/groups/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/groups/index.html>Section Groups</a></li><li data-nav-id=/reference/value-types/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/value-types/index.html>Value types</a></li><li data-nav-id=/reference/json-schema/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/reference/json-schema/index.html>JSON Schema</a></li></ul></li><li data-nav-id=/contributions/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/contributions/index.html><b>7. </b>Contributions</a></li><li class=active data-nav-id=/changelog/index.html><a class=padding href=https://creativeprojects.github.io/resticprofile/changelog/index.html><b>8. </b>Release Notes</a></li></ul></div><div class="R-sidebarmenu R-shortcutmenu-version"><ul class="space collapsible-menu"></ul></div><div class="R-sidebarmenu R-shortcutmenu-shortcuts"><div class="nav-title padding">More</div><ul class="space collapsible-menu"><li data-nav-id=/tags><a class=padding href=https://creativeprojects.github.io/resticprofile/tags><i class='fas fa-tags'></i> Tags</a></li><li data-nav-id=https://github.com/creativeprojects/resticprofile/><a class=padding href=https://github.com/creativeprojects/resticprofile/ rel=external target=_blank><i class='fab fa-fw fa-github'></i> GitHub repo</a></li><li data-nav-id=https://restic.readthedocs.io/><a class=padding href=https://restic.readthedocs.io/ rel=external target=_blank><i class='fas fa-fw fa-bookmark'></i> Restic Documentation</a></li></ul></div><div id=R-footer-margin></div><div class="R-menu-divider default-animation"><hr class=padding></div><div class="R-sidebarmenu R-shortcutmenu-footercontrols"><ul><li class=R-variantswitcher><div class="padding menu-control"><i class="fa-fw fas fa-paint-brush"></i>
<span>&nbsp;</span><div class=control-style><label class=a11y-only for=R-select-variant>Theme</label>
<select id=R-select-variant><option id=R-select-variant-relearn-auto value=relearn-auto selected>Relearn Light/Dark</option><option id=R-select-variant-relearn-light value=relearn-light>Relearn Light</option><option id=R-select-variant-relearn-dark value=relearn-dark>Relearn Dark</option></select></div><div class=clear></div></div><script>window.relearn.markVariant()</script></li></ul></div><div id=R-footer><a class=github-button href=https://github.com/creativeprojects/resticprofile data-color-scheme="no-preference: light; light: light; dark: dark_dimmed;" data-size=large data-show-count=true aria-label="Star creativeprojects/resticprofile on GitHub">Star</a><p>Built with <a href=https://github.com/McShelby/hugo-theme-relearn title=love><i class="fas fa-heart"></i></a> by <a href=https://gohugo.io/>Hugo</a></p><script async defer src=https://buttons.github.io/buttons.js></script></div></div></aside><script src=https://creativeprojects.github.io/resticprofile/js/clipboard/clipboard.min.js?1758895522 defer></script><script src=https://creativeprojects.github.io/resticprofile/js/perfect-scrollbar/perfect-scrollbar.min.js?1758895522 defer></script><script src=https://creativeprojects.github.io/resticprofile/js/theme.min.js?1758895522 defer></script></body></html>